const _0x413ceb=_0x32cc;(function(_0x5c2dd5,_0x1cccec){const _0x347182=_0x32cc,_0x46cf02=_0x5c2dd5();while(!![]){try{const _0x2ec47a=-parseInt(_0x347182(0x161))/0x1*(parseInt(_0x347182(0xb9))/0x2)+parseInt(_0x347182(0xb5))/0x3+-parseInt(_0x347182(0xd8))/0x4+parseInt(_0x347182(0xb3))/0x5+-parseInt(_0x347182(0x11a))/0x6*(-parseInt(_0x347182(0x11d))/0x7)+parseInt(_0x347182(0x12d))/0x8*(parseInt(_0x347182(0x102))/0x9)+-parseInt(_0x347182(0xab))/0xa*(parseInt(_0x347182(0x12f))/0xb);if(_0x2ec47a===_0x1cccec)break;else _0x46cf02['push'](_0x46cf02['shift']());}catch(_0x2d16df){_0x46cf02['push'](_0x46cf02['shift']());}}}(_0x5516,0xaddda));const canvas=document['getElementById'](_0x413ceb(0x159)),ctx=canvas[_0x413ceb(0x105)]('2d');canvas[_0x413ceb(0x146)]=0x320,canvas[_0x413ceb(0xf9)]=0x258;let levelTransitionInProgress=![],ballResetInProgress=![];const BALL_SPEED=3.25,paddleWidth=0x64,paddleHeight=0xa;let paddleX=(canvas[_0x413ceb(0x146)]-paddleWidth)/0x2,paddleSpeed=0x0;const maxPaddleSpeed=0x4,acceleration=0.5,friction=0.1,ballSize=0xa;let balls=[];const brickWidth=0x4b,brickHeight=0x14,brickPadding=0xa,brickOffsetTop=0x32,brickOffsetLeft=0x23,brickColumnCount=0x8,brickRowCount=0x5;let bricks=[],isGameStarted=![],score=0x0,lives=0x3,level=0x1,nextLevelGhost=![],currentUser=null,topScore=0x0;((async()=>{const _0x5a154f=_0x413ceb,_0x3088f4={'xCkMo':function(_0x242c94){return _0x242c94();},'ziDUX':_0x5a154f(0xd9)};currentUser=await _0x3088f4[_0x5a154f(0xae)](authenticateFromURL);if(!currentUser)return;_0x3088f4[_0x5a154f(0xae)](listenToLeaderboard),window['addEventListener'](_0x3088f4[_0x5a154f(0x164)],()=>{const _0x18146f=_0x5a154f;sessionStorage[_0x18146f(0xd5)](_0x18146f(0xcf)),sessionStorage['removeItem']('breakout_avatar');});})());function _0x5516(){const _0x1cb416=['NTpLp','val','djybA','1003636MgfPbE','remove','addEventListener','ziDUX','ArrowRight','#fff','slice','get','left','zkdUH','keydown','dKvKb','zIndex','IHUYo','FRAct','17060gxcaKz','6|2|0|5|9|3|7|1|11|8|4|10','innerHTML','xCkMo','16px\x20Arial','ArrowLeft','keyup','XpoSI','5034720BKUDsE','xGkIb','841137VtbfuO','sRduL','VrmHV','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22data:image/png;base64,','2IngDmU','getElementById','0,200,255','NyYgT','position','hiFIY','background','breakoutScores/','cfFKn','myqML','auth/','VyOzG','CohNd','wYfjL','replace','maxScore','ball-multiplier','div','pgGFG','normal','Level:\x20','fillStyle','breakout_user','ipeao','JkNSy','0,255,0','max','otQfV','removeItem','JptwV','aBJzP','2892644EsoHyZ','beforeunload','flat','fillText','ZcHYf','tTAsL','nhVOu','mRhVV','durability','MPzNn','then','forEach','1000','now','gameOverScreen','BITLo','UYfxY','gEizt','DpnFM','QHDky','type','<span\x20style=\x22margin-right:8px;\x22>','qHeHo','ubesv','IrkEV','YKdVJ','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-entry\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','ssLtQ','aKOJz','display','SqGkI','eRlAT','justifyContent','height','createElement','color','style','random','ybaLF','username','column','255,0,255','9xqVzoO','lbuiz','ycMUb','getContext','key','BUrhl','value','uxrcQ','clearRect','RDfEm','appendChild','floor','UcAqK','nzDrk','SUaHk','push','BiJrO','0|1|3|2|4','length','ref','</b>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','tFczr','PmDZs','leaderboardEntries','1030146sQWxWE','EQOTX','2|0|1|3|4','7PxgxUO','tjUse','font','JKAGE','extra-life','aeVvr','set','abs','sqCoA','TLwsm','sin','flex','Fxlfi','mHCmd','MZWFk','aMGTN','10118712VCfDPJ','KwcJK','1837cKajCj','XiWJK','dlzbG','YSpfA','min','Score:\x20','avatarBase64','aPljB','absolute','top','extra-ball','RjUpF','NnjLB','fDERA','fnNDF','KgOIh','breakoutScores','flexDirection','fill','ASIaM','</span>','every','cos','width','Lives:\x20','BvjhS','BjzXB','UbvFA','aJXEU','kDlrf','rgba(0,0,0,0.85)','center','fillRect','body','mBGdi','bNURT','TuETM','sGDff','map','nCare','vtdLw','rgba(','gameCanvas','ocUeT','LVYUk','split','closePath'];_0x5516=function(){return _0x1cb416;};return _0x5516();}const keys={};function _0x32cc(_0x514263,_0x118bd2){const _0x551682=_0x5516();return _0x32cc=function(_0x32cca9,_0x23dfce){_0x32cca9=_0x32cca9-0xa7;let _0x14da3d=_0x551682[_0x32cca9];return _0x14da3d;},_0x32cc(_0x514263,_0x118bd2);}document[_0x413ceb(0x163)](_0x413ceb(0x16b),_0x2375b9=>{const _0x1e05c9=_0x413ceb,_0x17a3ee={'KgOIh':function(_0xe66ff6,_0x3ee1d1){return _0xe66ff6===_0x3ee1d1;},'YSpfA':'ArrowLeft','LFwHA':function(_0x47408d,_0xead6ba){return _0x47408d===_0xead6ba;},'Hxdcq':function(_0x2cd827){return _0x2cd827();}};keys[_0x2375b9[_0x1e05c9(0x106)]]=!![],!isGameStarted&&(_0x17a3ee[_0x1e05c9(0x13e)](_0x2375b9[_0x1e05c9(0x106)],_0x17a3ee[_0x1e05c9(0x132)])||_0x17a3ee['LFwHA'](_0x2375b9[_0x1e05c9(0x106)],_0x1e05c9(0x165)))&&(isGameStarted=!![],_0x17a3ee['Hxdcq'](resetLevel),gameLoop());}),document[_0x413ceb(0x163)](_0x413ceb(0xb1),_0x59e760=>keys[_0x59e760[_0x413ceb(0x106)]]=![]);function resetLevel(){const _0xccbc6c=_0x413ceb,_0x372970={'ssLtQ':function(_0x37104a,_0x5ea4f1){return _0x37104a/_0x5ea4f1;},'aBJzP':function(_0xa917b6,_0x2f8372){return _0xa917b6-_0x2f8372;},'wYfjL':function(_0x22f792,_0x16b8c3){return _0x22f792-_0x16b8c3;},'MQTDg':function(_0x12fb74){return _0x12fb74();}};balls=[{'x':_0x372970[_0xccbc6c(0xf3)](canvas[_0xccbc6c(0x146)],0x2),'y':_0x372970[_0xccbc6c(0xd7)](canvas[_0xccbc6c(0xf9)],0x1e),'dx':BALL_SPEED,'dy':-BALL_SPEED}],paddleX=_0x372970[_0xccbc6c(0xf3)](_0x372970[_0xccbc6c(0xc6)](canvas[_0xccbc6c(0x146)],paddleWidth),0x2),_0x372970['MQTDg'](generateBricksWithGhost);}function movePaddle(){const _0x460280=_0x413ceb,_0x4316a2={'TLwsm':_0x460280(0xb0),'VMqgS':_0x460280(0x165),'EQOTX':function(_0x30eb2c,_0x43731d){return _0x30eb2c-_0x43731d;}};if(keys[_0x4316a2[_0x460280(0x126)]])paddleSpeed-=acceleration;else{if(keys[_0x4316a2['VMqgS']])paddleSpeed+=acceleration;else paddleSpeed*=_0x4316a2[_0x460280(0x11b)](0x1,friction);}paddleSpeed=Math['max'](Math[_0x460280(0x133)](paddleSpeed,maxPaddleSpeed),-maxPaddleSpeed),paddleX+=paddleSpeed,paddleX=Math[_0x460280(0xd3)](0x0,Math[_0x460280(0x133)](paddleX,canvas['width']-paddleWidth));}function drawPaddle(){const _0xe8fd1e=_0x413ceb,_0x3dc880={'IHUYo':_0xe8fd1e(0x166),'pgGFG':function(_0x2ac941,_0x7fb410){return _0x2ac941-_0x7fb410;}};ctx['fillStyle']=_0x3dc880[_0xe8fd1e(0xa9)],ctx[_0xe8fd1e(0x14f)](paddleX,_0x3dc880[_0xe8fd1e(0xcb)](canvas[_0xe8fd1e(0xf9)],paddleHeight),paddleWidth,paddleHeight);}function drawBall(_0x16ea2b){const _0x329baa=_0x413ceb,_0x4a07b5={'DpnFM':_0x329baa(0x113),'ubesv':function(_0x30855f,_0x59c1bf){return _0x30855f/_0x59c1bf;},'xZxfF':function(_0x5bdcd9,_0x5893cf){return _0x5bdcd9*_0x5893cf;},'sNPpd':'#fff'},_0x2d490e=_0x4a07b5[_0x329baa(0xea)]['split']('|');let _0x2d6094=0x0;while(!![]){switch(_0x2d490e[_0x2d6094++]){case'0':ctx['beginPath']();continue;case'1':ctx['arc'](_0x16ea2b['x'],_0x16ea2b['y'],_0x4a07b5[_0x329baa(0xef)](ballSize,0x2),0x0,_0x4a07b5['xZxfF'](Math['PI'],0x2));continue;case'2':ctx[_0x329baa(0x141)]();continue;case'3':ctx[_0x329baa(0xce)]=_0x4a07b5['sNPpd'];continue;case'4':ctx[_0x329baa(0x15d)]();continue;}break;}}function durabilityColor(_0x2ef138,_0x3f8124){const _0x56b7e5=_0x413ceb,_0x441380={'qHeHo':function(_0x39b494,_0x37dead){return _0x39b494===_0x37dead;},'CnXXF':_0x56b7e5(0x121),'BITLo':_0x56b7e5(0xd2),'slPCf':function(_0x1cd8f6,_0x6a23b6){return _0x1cd8f6===_0x6a23b6;},'TKOxJ':_0x56b7e5(0xbb),'dKvKb':function(_0x5b1015,_0x2db248){return _0x5b1015===_0x2db248;},'wfOeS':_0x56b7e5(0xc9),'aJXEU':_0x56b7e5(0x101),'XpoSI':function(_0x4f42d,_0x23396d){return _0x4f42d*_0x23396d;}};if(_0x441380[_0x56b7e5(0xee)](_0x3f8124,_0x441380['CnXXF']))return _0x441380[_0x56b7e5(0xe7)];if(_0x441380['slPCf'](_0x3f8124,_0x56b7e5(0x139)))return _0x441380['TKOxJ'];if(_0x441380[_0x56b7e5(0xa7)](_0x3f8124,_0x441380['wfOeS']))return _0x441380[_0x56b7e5(0x14b)];const _0x10f3d9=Math['min'](0xff,_0x441380[_0x56b7e5(0xb2)](_0x2ef138,0x3c)),_0x214b2b=Math[_0x56b7e5(0x133)](0xff,_0x441380[_0x56b7e5(0xb2)](_0x2ef138,0x1e));return _0x10f3d9+','+_0x214b2b+',0';}function drawBricks(){const _0x53ea3=_0x413ceb,_0x29a392={'YKdVJ':function(_0x1a5d56,_0x28b7d1){return _0x1a5d56>_0x28b7d1;},'WaqOG':function(_0x31c1ed,_0x32c838,_0x23a328){return _0x31c1ed(_0x32c838,_0x23a328);}};for(let _0x40d775 of bricks){for(let _0xee5d62 of _0x40d775){_0x29a392[_0x53ea3(0xf1)](_0xee5d62[_0x53ea3(0xe0)],0x0)&&(ctx[_0x53ea3(0xce)]=_0x53ea3(0x158)+_0x29a392['WaqOG'](durabilityColor,_0xee5d62[_0x53ea3(0xe0)],_0xee5d62[_0x53ea3(0xec)])+',\x20'+(nextLevelGhost?0.4:0x1)+')',ctx['fillRect'](_0xee5d62['x'],_0xee5d62['y'],brickWidth,brickHeight));}}}function getDurabilityRange(_0x4e30b1){const _0x1278f8=_0x413ceb,_0x22c961={'lbuiz':function(_0x27cb9e,_0x5e9b3b){return _0x27cb9e===_0x5e9b3b;},'aPljB':function(_0xb71a00,_0x380f02){return _0xb71a00*_0x380f02;},'ycMUb':function(_0x3364b0,_0x26416d){return _0x3364b0-_0x26416d;}};if(_0x22c961[_0x1278f8(0x103)](_0x4e30b1,0x1))return[0x1,0x1];const _0x2428ba=_0x22c961['lbuiz'](_0x4e30b1,0x2)?0x1:_0x22c961[_0x1278f8(0x136)](_0x22c961[_0x1278f8(0x104)](_0x4e30b1,0x1),0x3),_0x36c119=_0x22c961[_0x1278f8(0x136)](_0x4e30b1,0x3);return[_0x2428ba,_0x36c119];}function generateBricksWithGhost(){const _0x9d072b=_0x413ceb,_0x275a61={'nhVOu':function(_0xb39c11,_0x5eb9ac){return _0xb39c11(_0x5eb9ac);},'BUrhl':function(_0x2a84fc,_0xf43f75){return _0x2a84fc<_0xf43f75;},'UbvFA':function(_0x2e06c8,_0xc59d0d){return _0x2e06c8*_0xc59d0d;},'Fxlfi':function(_0x524c44,_0x2f318f){return _0x524c44+_0x2f318f;},'mBGdi':function(_0xcc8e08,_0x246cf3){return _0xcc8e08+_0x246cf3;},'ZcHYf':function(_0x332bf7,_0x4dec19){return _0x332bf7*_0x4dec19;},'mHCmd':function(_0x36297b,_0x2c1b80){return _0x36297b+_0x2c1b80;},'PmDZs':_0x9d072b(0xcc),'eRlAT':function(_0x49d718,_0x3fe86a,_0x47ff4c){return _0x49d718(_0x3fe86a,_0x47ff4c);},'UYfxY':function(_0x54d43c,_0x12a522){return _0x54d43c>=_0x12a522;},'RDfEm':_0x9d072b(0x121),'fnNDF':function(_0x11c5d5,_0x51c87c){return _0x11c5d5>=_0x51c87c;},'aeVvr':function(_0x4a7def,_0x298556,_0x5abe28){return _0x4a7def(_0x298556,_0x5abe28);}};nextLevelGhost=!![],levelTransitionInProgress=!![];const [_0x3ccc9f,_0xaddc90]=_0x275a61[_0x9d072b(0xde)](getDurabilityRange,level);bricks=[];for(let _0x29efa2=0x0;_0x275a61[_0x9d072b(0x107)](_0x29efa2,brickColumnCount);_0x29efa2++){bricks[_0x29efa2]=[];for(let _0x1aaaa8=0x0;_0x275a61['BUrhl'](_0x1aaaa8,brickRowCount);_0x1aaaa8++){const _0x518132=_0x275a61[_0x9d072b(0x14a)](_0x29efa2,_0x275a61[_0x9d072b(0x129)](brickWidth,brickPadding))+brickOffsetLeft,_0x133b0a=_0x275a61[_0x9d072b(0x151)](_0x275a61[_0x9d072b(0xdc)](_0x1aaaa8,_0x275a61[_0x9d072b(0x12a)](brickHeight,brickPadding)),brickOffsetTop),_0x16c0b0=Math[_0x9d072b(0xfd)]();let _0x1a7e6a=_0x275a61[_0x9d072b(0x118)],_0x2eafe7=_0x275a61[_0x9d072b(0xf7)](randomInt,_0x3ccc9f,_0xaddc90);if(_0x275a61[_0x9d072b(0xe8)](level,0x4)&&_0x16c0b0<0.01)_0x1a7e6a=_0x275a61[_0x9d072b(0x10b)],_0x2eafe7=0x6;else{if(level>=0x2&&_0x16c0b0<0.1)_0x1a7e6a=_0x9d072b(0x139),_0x2eafe7=0x2;else _0x275a61[_0x9d072b(0x13d)](level,0x3)&&_0x275a61[_0x9d072b(0x107)](_0x16c0b0,0.02)&&(_0x1a7e6a=_0x9d072b(0xc9),_0x2eafe7=0x5);}bricks[_0x29efa2][_0x1aaaa8]={'x':_0x518132,'y':_0x133b0a,'durability':_0x2eafe7,'type':_0x1a7e6a};}}_0x275a61[_0x9d072b(0x122)](setTimeout,()=>{nextLevelGhost=![],levelTransitionInProgress=![];},0x3e8);}function randomInt(_0x370b2f,_0x187d41){const _0x205402=_0x413ceb,_0x3761d1={'djybA':function(_0x576cdf,_0x5e3a79){return _0x576cdf+_0x5e3a79;}};return _0x3761d1['djybA'](Math[_0x205402(0x10d)](Math[_0x205402(0xfd)]()*_0x3761d1[_0x205402(0x160)](_0x187d41-_0x370b2f,0x1)),_0x370b2f);}function collisionDetection(_0xe5524f){const _0x37f8aa=_0x413ceb,_0x297551={'sqCoA':function(_0x5a4e2f,_0x234ac2){return _0x5a4e2f<_0x234ac2;},'tTAsL':function(_0x3f2344,_0x3ac375){return _0x3f2344+_0x3ac375;},'JptwV':function(_0x4f4bbd,_0x34c2b8){return _0x4f4bbd-_0x34c2b8;},'QHDky':function(_0x5772a3,_0x309b46){return _0x5772a3<=_0x309b46;},'JkNSy':function(_0x56efcf,_0x3ab943){return _0x56efcf/_0x3ab943;},'ipeao':function(_0x500125,_0x1b3499){return _0x500125*_0x1b3499;},'tjUse':function(_0x392181,_0x5ccc1c){return _0x392181/_0x5ccc1c;},'myqML':function(_0xc74b34,_0x58b96c){return _0xc74b34+_0x58b96c;},'NyYgT':function(_0x305f7f,_0x2697b3){return _0x305f7f/_0x2697b3;},'SlqnF':function(_0x22bf5c,_0x3c99fd){return _0x22bf5c>_0x3c99fd;},'MPzNn':function(_0x174c93,_0x4f8e84){return _0x174c93<_0x4f8e84;},'MZWFk':function(_0x3ce402,_0x29f5bf){return _0x3ce402>_0x29f5bf;},'ocUeT':function(_0x2a9305,_0x22f2ac){return _0x2a9305<_0x22f2ac;},'ybaLF':function(_0x1a80a6,_0x36d00){return _0x1a80a6+_0x36d00;},'vtdLw':function(_0x7f5816,_0x1bad56){return _0x7f5816<=_0x1bad56;},'BvjhS':function(_0x5ebfdd,_0x146a8b){return _0x5ebfdd===_0x146a8b;},'KwcJK':_0x37f8aa(0x121),'nCare':function(_0x416a3e,_0x39ea60){return _0x416a3e===_0x39ea60;},'VrmHV':'extra-ball','SUaHk':function(_0x36e861,_0x1ed11d){return _0x36e861===_0x1ed11d;},'dlzbG':_0x37f8aa(0xc9),'XiWJK':function(_0x3c3b20,_0x571803){return _0x3c3b20(_0x571803);}};if(_0x297551[_0x37f8aa(0x125)](_0xe5524f['x'],0x0)||_0xe5524f['x']>canvas[_0x37f8aa(0x146)])_0xe5524f['dx']*=-0x1;if(_0x297551[_0x37f8aa(0x125)](_0xe5524f['y'],0x0))_0xe5524f['dy']*=-0x1;if(_0x297551['tTAsL'](_0xe5524f['y'],ballSize/0x2)>=_0x297551['JptwV'](canvas[_0x37f8aa(0xf9)],paddleHeight)&&_0xe5524f['x']>=paddleX&&_0x297551[_0x37f8aa(0xeb)](_0xe5524f['x'],_0x297551[_0x37f8aa(0xdd)](paddleX,paddleWidth))){const _0x40dd13=_0x297551[_0x37f8aa(0xd1)](_0x297551[_0x37f8aa(0xd0)](_0x297551[_0x37f8aa(0x11e)](_0x297551[_0x37f8aa(0xd6)](_0xe5524f['x'],_0x297551[_0x37f8aa(0xc2)](paddleX,_0x297551[_0x37f8aa(0xbc)](paddleWidth,0x2))),paddleWidth),Math['PI']),0x3),_0x15d596=BALL_SPEED;_0xe5524f['dx']=_0x15d596*Math[_0x37f8aa(0x127)](_0x40dd13),_0xe5524f['dy']=-Math[_0x37f8aa(0x124)](_0x297551[_0x37f8aa(0xd0)](_0x15d596,Math[_0x37f8aa(0x145)](_0x40dd13)));}for(let _0x4de050 of bricks){for(let _0x30842c of _0x4de050){if(_0x297551['SlqnF'](_0x30842c[_0x37f8aa(0xe0)],0x0)&&_0xe5524f['x']>_0x30842c['x']&&_0x297551[_0x37f8aa(0xe1)](_0xe5524f['x'],_0x30842c['x']+brickWidth)&&_0x297551[_0x37f8aa(0x12b)](_0xe5524f['y'],_0x30842c['y'])&&_0x297551[_0x37f8aa(0x15a)](_0xe5524f['y'],_0x297551[_0x37f8aa(0xfe)](_0x30842c['y'],brickHeight))){_0x30842c[_0x37f8aa(0xe0)]--,_0xe5524f['dy']*=-0x1;if(_0x297551[_0x37f8aa(0x157)](_0x30842c[_0x37f8aa(0xe0)],0x0)){if(_0x297551[_0x37f8aa(0x148)](_0x30842c[_0x37f8aa(0xec)],_0x297551[_0x37f8aa(0x12e)]))lives++;else{if(_0x297551[_0x37f8aa(0x156)](_0x30842c[_0x37f8aa(0xec)],_0x297551[_0x37f8aa(0xb7)]))balls[_0x37f8aa(0x111)]({'x':_0x30842c['x'],'y':_0x30842c['y'],'dx':-_0xe5524f['dx'],'dy':-_0xe5524f['dy']});else{if(_0x297551[_0x37f8aa(0x110)](_0x30842c[_0x37f8aa(0xec)],_0x297551[_0x37f8aa(0x131)])){let _0x3d3bc7=balls[_0x37f8aa(0x155)](_0x588855=>({'x':_0x588855['x'],'y':_0x588855['y'],'dx':-_0x588855['dx'],'dy':-_0x588855['dy']}));balls[_0x37f8aa(0x111)](..._0x3d3bc7);}}}}score++,_0x297551[_0x37f8aa(0x130)](updateMaxScore,score);}}}}function sanitizeUsername(_0x493793){const _0x54d7dc=_0x413ceb;return _0x493793[_0x54d7dc(0xc7)](/[.#$\[\]]/g,'_');}function updateMaxScore(_0x21c783){const _0x39fa3f=_0x413ceb,_0x5c19c2={'tFczr':function(_0xdc03c8,_0x432844){return _0xdc03c8>_0x432844;},'SqGkI':function(_0x8e9acc,_0x24b647){return _0x8e9acc(_0x24b647);}};if(!currentUser||_0x21c783<=topScore)return;topScore=_0x21c783;const _0x5d8d2b=_0x5c19c2[_0x39fa3f(0xf6)](sanitizeUsername,currentUser['username']),_0x34da56=db[_0x39fa3f(0x115)](_0x39fa3f(0xc0)+_0x5d8d2b);_0x34da56[_0x39fa3f(0x168)]()[_0x39fa3f(0xe2)](_0x2c13cf=>{const _0x57544d=_0x39fa3f,_0x5ab0d9=_0x2c13cf['val']();(!_0x5ab0d9||_0x5c19c2[_0x57544d(0x117)](_0x21c783,_0x5ab0d9['maxScore']||0x0))&&_0x34da56[_0x57544d(0x123)]({'username':currentUser[_0x57544d(0xff)],'maxScore':_0x21c783,'timestamp':Date[_0x57544d(0xe5)]()});});}function listenToLeaderboard(){const _0x5e8dc1=_0x413ceb,_0xc44d36={'KbHVd':function(_0x5cacad,_0x2f8f3c){return _0x5cacad===_0x2f8f3c;},'cfFKn':function(_0x2fa3cf,_0x53d9ba){return _0x2fa3cf===_0x53d9ba;},'CohNd':function(_0x31d799,_0x2700e2){return _0x31d799+_0x2700e2;},'bNURT':_0x5e8dc1(0x119),'LVYUk':_0x5e8dc1(0x108)},_0xd3784b=document[_0x5e8dc1(0xba)](_0xc44d36[_0x5e8dc1(0x152)]);db['ref'](_0x5e8dc1(0x13f))['on'](_0xc44d36[_0x5e8dc1(0x15b)],async _0x3196=>{const _0x3e382f=_0x5e8dc1,_0x526404={'UcAqK':function(_0x4187f0,_0x96083a){return _0xc44d36['KbHVd'](_0x4187f0,_0x96083a);},'JKAGE':function(_0x5103c6,_0x5bafa0){const _0xe7dcc9=_0x32cc;return _0xc44d36[_0xe7dcc9(0xc1)](_0x5103c6,_0x5bafa0);},'sRduL':function(_0x3686ff,_0x33d069){const _0x597eb3=_0x32cc;return _0xc44d36[_0x597eb3(0xc5)](_0x3686ff,_0x33d069);}},_0x4ee9df=[],_0xa66aef=[];_0x3196[_0x3e382f(0xe3)](_0x589c88=>{const _0x1b0439=_0x3e382f,_0x302253=_0x589c88['val']();_0x302253['username']&&_0x302253[_0x1b0439(0xc8)]&&(_0x4ee9df['push'](_0x302253),_0xa66aef[_0x1b0439(0x111)](db['ref'](_0x1b0439(0xc3)+sanitizeUsername(_0x302253[_0x1b0439(0xff)])+'/avatarBase64')[_0x1b0439(0x168)]()));});const _0xef691f=await Promise['all'](_0xa66aef);_0x4ee9df['forEach']((_0x462e4f,_0x256456)=>{const _0x4845fe=_0x3e382f;_0x462e4f['avatarBase64']=_0xef691f[_0x256456][_0x4845fe(0x15f)]()||'';}),_0x4ee9df['sort']((_0x110754,_0xdfd6c8)=>_0xdfd6c8[_0x3e382f(0xc8)]-_0x110754[_0x3e382f(0xc8)]);const _0x501f4a=_0x4ee9df[_0x3e382f(0x167)](0x0,0x14);_0xd3784b[_0x3e382f(0xad)]=_0x501f4a['map']((_0x45e024,_0x5a6912)=>{const _0x2063c4=_0x3e382f,_0x4b380d=_0x5a6912===0x0?'🥇':_0x526404[_0x2063c4(0x10e)](_0x5a6912,0x1)?'🥈':_0x526404[_0x2063c4(0x120)](_0x5a6912,0x2)?'🥉':'',_0x250be0=_0x2063c4(0xed)+_0x526404[_0x2063c4(0xb6)](_0x5a6912,0x1)+'\x20'+_0x4b380d+_0x2063c4(0x143);return _0x2063c4(0xf2)+_0x250be0+_0x2063c4(0xb8)+_0x45e024[_0x2063c4(0x135)]+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0x45e024['username']+'</span>\x20-\x20<b>'+_0x45e024['maxScore']+_0x2063c4(0x116);})['join']('');});}function drawHUD(){const _0x1f711c=_0x413ceb,_0x4ef430={'BjzXB':_0x1f711c(0x11c),'xCpYU':_0x1f711c(0x166),'uxrcQ':_0x1f711c(0xaf),'uyfPe':function(_0x360210,_0x4ab950){return _0x360210-_0x4ab950;},'fDERA':function(_0x5f5233,_0x22a6b5){return _0x5f5233/_0x22a6b5;}},_0x4fc77c=_0x4ef430[_0x1f711c(0x149)][_0x1f711c(0x15c)]('|');let _0xd9e3b4=0x0;while(!![]){switch(_0x4fc77c[_0xd9e3b4++]){case'0':ctx['fillStyle']=_0x4ef430['xCpYU'];continue;case'1':ctx[_0x1f711c(0xdb)](_0x1f711c(0x134)+score,0x8,0x14);continue;case'2':ctx[_0x1f711c(0x11f)]=_0x4ef430[_0x1f711c(0x109)];continue;case'3':ctx[_0x1f711c(0xdb)](_0x1f711c(0x147)+lives,canvas[_0x1f711c(0x146)]-0x64,0x14);continue;case'4':ctx[_0x1f711c(0xdb)](_0x1f711c(0xcd)+level,_0x4ef430['uyfPe'](_0x4ef430[_0x1f711c(0x13c)](canvas[_0x1f711c(0x146)],0x2),0x1e),0x14);continue;}break;}}function gameLoop(){const _0x1e1d67=_0x413ceb,_0x272676={'aMGTN':function(_0x3847c0,_0x3b3634){return _0x3847c0/_0x3b3634;},'xtJpf':function(_0x58cc77,_0x2d3b59){return _0x58cc77-_0x2d3b59;},'NnjLB':function(_0x41948d,_0x58044a){return _0x41948d/_0x58044a;},'sGDff':function(_0x42ff12,_0x48fa98){return _0x42ff12-_0x48fa98;},'TuETM':function(_0xe57c18){return _0xe57c18();},'NTpLp':function(_0x4f057b){return _0x4f057b();},'gEizt':function(_0x3e5266){return _0x3e5266();},'kDlrf':function(_0x2c9069,_0x5abb37){return _0x2c9069>=_0x5abb37;},'vACtq':function(_0x10efae,_0x416c8b){return _0x10efae(_0x416c8b);},'hiFIY':function(_0x2ede3c,_0x3f8054){return _0x2ede3c>_0x3f8054;},'xCKHM':function(_0x3ffc5f,_0x39c710){return _0x3ffc5f===_0x39c710;},'BiJrO':function(_0x36d663,_0x23d298){return _0x36d663(_0x23d298);},'fWAPJ':function(_0x2c1e19,_0x408149,_0x4c9b1f){return _0x2c1e19(_0x408149,_0x4c9b1f);}};ctx[_0x1e1d67(0x10a)](0x0,0x0,canvas['width'],canvas[_0x1e1d67(0xf9)]),_0x272676['TuETM'](movePaddle),_0x272676[_0x1e1d67(0x15e)](drawBricks),_0x272676[_0x1e1d67(0xe9)](drawPaddle),_0x272676[_0x1e1d67(0xe9)](drawHUD);for(let _0x5e4aeb=balls[_0x1e1d67(0x114)]-0x1;_0x272676[_0x1e1d67(0x14c)](_0x5e4aeb,0x0);_0x5e4aeb--){const _0x25d8f6=balls[_0x5e4aeb];_0x272676['vACtq'](drawBall,_0x25d8f6),_0x25d8f6['x']+=_0x25d8f6['dx'],_0x25d8f6['y']+=_0x25d8f6['dy'],collisionDetection(_0x25d8f6);if(_0x272676[_0x1e1d67(0xbe)](_0x25d8f6['y']-_0x272676[_0x1e1d67(0x12c)](ballSize,0x2),canvas['height']))balls['splice'](_0x5e4aeb,0x1);}if(_0x272676['xCKHM'](balls['length'],0x0)&&!ballResetInProgress){if(lives>0x0)ballResetInProgress=!![],lives--,setTimeout(()=>{const _0xca6b9c=_0x1e1d67;balls=[{'x':_0x272676[_0xca6b9c(0x12c)](canvas[_0xca6b9c(0x146)],0x2),'y':_0x272676['xtJpf'](canvas[_0xca6b9c(0xf9)],0x1e),'dx':BALL_SPEED,'dy':-BALL_SPEED}],paddleX=_0x272676[_0xca6b9c(0x13b)](_0x272676[_0xca6b9c(0x154)](canvas[_0xca6b9c(0x146)],paddleWidth),0x2),ballResetInProgress=![];},0x3e8);else{_0x272676[_0x1e1d67(0x153)](showGameOverScreen);return;}}!levelTransitionInProgress&&bricks[_0x1e1d67(0xda)]()[_0x1e1d67(0x144)](_0x30e388=>_0x30e388[_0x1e1d67(0xe0)]<=0x0)&&(level++,generateBricksWithGhost()),!ballResetInProgress?_0x272676[_0x1e1d67(0x112)](requestAnimationFrame,gameLoop):_0x272676['fWAPJ'](setTimeout,gameLoop,0x10);}function showGameOverScreen(){const _0x289ad3=_0x413ceb,_0x3db7b1={'aKOJz':_0x289ad3(0xca),'nzDrk':_0x289ad3(0xe6),'RjUpF':_0x289ad3(0x137),'zkdUH':'100%','mRhVV':_0x289ad3(0x14d),'IrkEV':'#fff','FRAct':_0x289ad3(0x128),'CsuhO':_0x289ad3(0x100),'xGkIb':_0x289ad3(0x14e),'wNNbj':_0x289ad3(0xe4)},_0x50b219=document[_0x289ad3(0xfa)](_0x3db7b1[_0x289ad3(0xf4)]);_0x50b219['id']=_0x3db7b1[_0x289ad3(0x10f)],_0x50b219['style'][_0x289ad3(0xbd)]=_0x3db7b1[_0x289ad3(0x13a)],_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0x138)]='0',_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0x169)]='0',_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0x146)]=_0x3db7b1[_0x289ad3(0x16a)],_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0xf9)]=_0x3db7b1[_0x289ad3(0x16a)],_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0xbf)]=_0x3db7b1[_0x289ad3(0xdf)],_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0xfb)]=_0x3db7b1[_0x289ad3(0xf0)],_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0xf5)]=_0x3db7b1[_0x289ad3(0xaa)],_0x50b219['style'][_0x289ad3(0x140)]=_0x3db7b1['CsuhO'],_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0xf8)]=_0x3db7b1[_0x289ad3(0xb4)],_0x50b219[_0x289ad3(0xfc)]['alignItems']=_0x289ad3(0x14e),_0x50b219[_0x289ad3(0xfc)][_0x289ad3(0xa8)]=_0x3db7b1['wNNbj'],_0x50b219['innerHTML']='\x0a\x20\x20\x20\x20<h2>🎮\x20Game\x20Over!</h2>\x0a\x20\x20\x20\x20<p>Your\x20score:\x20<b>'+score+'</b></p>\x0a\x20\x20\x20\x20<button\x20style=\x22padding:10px\x2020px;\x20font-size:16px;\x22\x20onclick=\x22restartGame()\x22>Restart</button>\x0a\x20\x20',document[_0x289ad3(0x150)][_0x289ad3(0x10c)](_0x50b219);}function restartGame(){const _0x5b42d5=_0x413ceb,_0x4af08e={'otQfV':_0x5b42d5(0xac),'VyOzG':function(_0x230080){return _0x230080();},'RHNqQ':function(_0x250518,_0x49edbb){return _0x250518/_0x49edbb;},'ASIaM':function(_0x1d683f){return _0x1d683f();}},_0x292d25=_0x4af08e[_0x5b42d5(0xd4)][_0x5b42d5(0x15c)]('|');let _0x2738c7=0x0;while(!![]){switch(_0x292d25[_0x2738c7++]){case'0':level=0x1;continue;case'1':Object['keys'](keys)[_0x5b42d5(0xe3)](_0x595092=>keys[_0x595092]=![]);continue;case'2':score=0x0;continue;case'3':balls=[];continue;case'4':_0x4af08e[_0x5b42d5(0xc4)](drawBricks);continue;case'5':lives=0x3;continue;case'6':document[_0x5b42d5(0xba)](_0x5b42d5(0xe6))[_0x5b42d5(0x162)]();continue;case'7':paddleX=_0x4af08e['RHNqQ'](canvas['width']-paddleWidth,0x2);continue;case'8':drawHUD();continue;case'9':isGameStarted=![];continue;case'10':_0x4af08e[_0x5b42d5(0x142)](drawPaddle);continue;case'11':ctx['clearRect'](0x0,0x0,canvas[_0x5b42d5(0x146)],canvas[_0x5b42d5(0xf9)]);continue;}break;}}