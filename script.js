const _0x18bea1=_0x11ad;(function(_0xc2dffa,_0x1c01c8){const _0x1a2887=_0x11ad,_0x57f5d2=_0xc2dffa();while(!![]){try{const _0x55da4a=-parseInt(_0x1a2887(0x182))/0x1*(-parseInt(_0x1a2887(0x1fa))/0x2)+parseInt(_0x1a2887(0x179))/0x3*(parseInt(_0x1a2887(0x1e4))/0x4)+parseInt(_0x1a2887(0x16b))/0x5*(-parseInt(_0x1a2887(0x208))/0x6)+-parseInt(_0x1a2887(0x1d5))/0x7*(parseInt(_0x1a2887(0x175))/0x8)+-parseInt(_0x1a2887(0x1f5))/0x9+parseInt(_0x1a2887(0x198))/0xa*(-parseInt(_0x1a2887(0x1b4))/0xb)+parseInt(_0x1a2887(0x1ac))/0xc*(parseInt(_0x1a2887(0x190))/0xd);if(_0x55da4a===_0x1c01c8)break;else _0x57f5d2['push'](_0x57f5d2['shift']());}catch(_0x2e8f18){_0x57f5d2['push'](_0x57f5d2['shift']());}}}(_0x2b86,0x8ed2c));const canvas=document[_0x18bea1(0x216)](_0x18bea1(0x20e)),ctx=canvas[_0x18bea1(0x174)]('2d');canvas[_0x18bea1(0x21b)]=0x320,canvas[_0x18bea1(0x1bf)]=0x258;const hitSound=new Audio(_0x18bea1(0x21e));let levelTransitionInProgress=![],ballResetInProgress=![];const BALL_SPEED=3.25,paddleWidth=0x64,paddleHeight=0xa;let paddleX=(canvas[_0x18bea1(0x21b)]-paddleWidth)/0x2,paddleSpeed=0x0;const maxPaddleSpeed=0x4,acceleration=0.5,friction=0.1,ballSize=0xa;function _0x2b86(){const _0x107219=['EEIvH','968281yOPDCW','rVeSQ','sAsQU','ref','WiKRq','leaderboardEntries','Score:\x20','ksfgd','cos','keydown','bomb','breakout_avatar','TWbFg','LyENX','339534gPBWAf','GmRwX','GBWKL','wOzVU','fAkct','replace','TMpzS','MMnbE','10aMjoIB','forEach','QxRlK','pQhmv','floor','breakoutScores','keyup','fillText','Level:\x20','Tbhhr','justifyContent','GCpDW','div','zZsND','innerHTML','YpDCl','mXfFK','WOXLX','push','</span>\x20-\x20<b>','612MGzPkv','split','rgba(0,0,0,0.85)','oAgkC','vzmjW','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22data:image/png;base64,','value','alignItems','11253594BNjaRa','SlqBH','eawUg','ZCvDO','dgudF','map','xkSJN','lQHJX','cJdTU','xvdQu','maxScore','height','flat','ksKKj','MNIje','body','eEZzq','ORAVa','get','jEzvK','key','XnpnW','KUQat','XRZyA','100%','clearRect','extra-life','gAYwR','vbsCU','<span\x20style=\x22margin-right:8px;\x22>','length','lDhgN','background','420tzQJxY','JxRgF','yfaQp','then','EqbyW','gameOverScreen','ITDmc','KNUCE','TfnKo','normal','play','ArrowRight','fAUGn','cUSQU','fDgSh','19724twDroF','breakoutScores/','ball-multiplier','UtVWz','fill','style','PIrTT','max','RMMHW','Dvktp','addEventListener','WHuCA','zukYb','flexDirection','val','sKiCl','gRTQR','4780395pLQvMx','removeItem','display','wMCZX','left','2QGHPCx','255,0,255','random','gtwQW','YsYkR','STJyh','iGMYq','HXWKk','kXziE','VrPhD','cHTfP','rTEFn','WIgmZ','remove','1462794beYSIm','extra-ball','type','beforeunload','aFsdY','jyrYw','gameCanvas','WnETu','splice','</b>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20','#fff','uhbDK','YMXZA','wEUKj','getElementById','fillRect','</b></p>\x0a\x20\x20\x20\x20<button\x20style=\x22padding:10px\x2020px;\x20font-size:16px;\x22\x20onclick=\x22restartGame()\x22>Restart</button>\x0a\x20\x20','jxQGS','HXCyT','width','EKtUa','beginPath','hit.mp3','ZdJip','OOdRc','GjWeD','FPhlf','yellow','zLmAy','xogZc','meFyw','color','fillStyle','mVMUA','min','1000','gBaAl','username','closePath','15QWDWFZ','</span>','yellow-balls','position','durability','KGEwY','gUNLs','set','wDBAp','getContext','3512ZvJnyN','uMHbO','every','UhwUE','363uTALqb','FhOpb','xOqVt','EjVTE','column','0,255,0','\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-entry\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','all'];_0x2b86=function(){return _0x107219;};return _0x2b86();}let balls=[];const brickWidth=0x4b,brickHeight=0x14,brickPadding=0xa,brickOffsetTop=0x32,brickOffsetLeft=0x23,brickColumnCount=0x8,brickRowCount=0x5;let bricks=[],isGameStarted=![],score=0x0,lives=0x3,level=0x1,nextLevelGhost=![],currentUser=null,topScore=0x0;((async()=>{const _0x220890=_0x18bea1,_0x206c5a={'fAUGn':'breakout_user','ksKKj':_0x220890(0x18d),'yNaHQ':function(_0x1b5270){return _0x1b5270();},'hYlHn':_0x220890(0x20b)};currentUser=await _0x206c5a['yNaHQ'](authenticateFromURL);if(!currentUser)return;listenToLeaderboard(),window[_0x220890(0x1ee)](_0x206c5a['hYlHn'],()=>{const _0x28cac7=_0x220890;sessionStorage[_0x28cac7(0x1f6)](_0x206c5a[_0x28cac7(0x1e1)]),sessionStorage[_0x28cac7(0x1f6)](_0x206c5a[_0x28cac7(0x1c1)]);});})());const keys={};document[_0x18bea1(0x1ee)](_0x18bea1(0x18b),_0x10769f=>{const _0x4779e9=_0x18bea1,_0x27208d={'wMCZX':function(_0xcadea8,_0x474601){return _0xcadea8===_0x474601;},'rTEFn':'ArrowLeft','UhwUE':'ArrowRight','KRiKN':function(_0x3d5ff1){return _0x3d5ff1();}};keys[_0x10769f['key']]=!![],!isGameStarted&&(_0x27208d[_0x4779e9(0x1f8)](_0x10769f[_0x4779e9(0x1c8)],_0x27208d[_0x4779e9(0x205)])||_0x27208d[_0x4779e9(0x1f8)](_0x10769f[_0x4779e9(0x1c8)],_0x27208d[_0x4779e9(0x178)]))&&(isGameStarted=!![],_0x27208d['KRiKN'](resetLevel),gameLoop());}),document[_0x18bea1(0x1ee)](_0x18bea1(0x19e),_0xb0e10b=>keys[_0xb0e10b['key']]=![]);function resetLevel(){const _0x5889b3=_0x18bea1,_0x19a412={'VrPhD':function(_0x451976,_0x16f72f){return _0x451976/_0x16f72f;},'ksfgd':function(_0x333a13){return _0x333a13();}};balls=[{'x':_0x19a412[_0x5889b3(0x203)](canvas[_0x5889b3(0x21b)],0x2),'y':canvas[_0x5889b3(0x1bf)]-0x1e,'dx':BALL_SPEED,'dy':-BALL_SPEED}],paddleX=(canvas[_0x5889b3(0x21b)]-paddleWidth)/0x2,_0x19a412[_0x5889b3(0x189)](generateBricksWithGhost);}function _0x11ad(_0x9c89f3,_0xa17990){const _0x2b8605=_0x2b86();return _0x11ad=function(_0x11adc1,_0x22920f){_0x11adc1=_0x11adc1-0x165;let _0x27f984=_0x2b8605[_0x11adc1];return _0x27f984;},_0x11ad(_0x9c89f3,_0xa17990);}function movePaddle(){const _0x17ae98=_0x18bea1,_0x4b5575={'zZsND':'ArrowLeft','YpDCl':function(_0x5dca90,_0x44791e){return _0x5dca90-_0x44791e;}};if(keys[_0x4b5575[_0x17ae98(0x1a5)]])paddleSpeed-=acceleration;else{if(keys[_0x17ae98(0x1e0)])paddleSpeed+=acceleration;else paddleSpeed*=_0x4b5575['YpDCl'](0x1,friction);}paddleSpeed=Math[_0x17ae98(0x1eb)](Math['min'](paddleSpeed,maxPaddleSpeed),-maxPaddleSpeed),paddleX+=paddleSpeed,paddleX=Math[_0x17ae98(0x1eb)](0x0,Math[_0x17ae98(0x166)](paddleX,_0x4b5575[_0x17ae98(0x1a7)](canvas['width'],paddleWidth)));}function drawPaddle(){const _0x2c212b=_0x18bea1,_0x43c022={'ORAVa':function(_0x379ef8,_0x40abd2){return _0x379ef8-_0x40abd2;}};ctx['fillStyle']='#fff',ctx[_0x2c212b(0x217)](paddleX,_0x43c022[_0x2c212b(0x1c5)](canvas['height'],paddleHeight),paddleWidth,paddleHeight);}function drawBall(_0x3038d3){const _0x2a25a4=_0x18bea1,_0xef5df0={'gtwQW':'0|4|2|1|3','TWbFg':function(_0x765013,_0x3c539d){return _0x765013/_0x3c539d;},'lQHJX':function(_0x5be997,_0x110b37){return _0x5be997*_0x110b37;}},_0x159c48=_0xef5df0[_0x2a25a4(0x1fd)][_0x2a25a4(0x1ad)]('|');let _0x21962a=0x0;while(!![]){switch(_0x159c48[_0x21962a++]){case'0':ctx[_0x2a25a4(0x21d)]();continue;case'1':ctx[_0x2a25a4(0x1e8)]();continue;case'2':ctx[_0x2a25a4(0x228)]=_0x2a25a4(0x212);continue;case'3':ctx[_0x2a25a4(0x16a)]();continue;case'4':ctx['arc'](_0x3038d3['x'],_0x3038d3['y'],_0xef5df0[_0x2a25a4(0x18e)](ballSize,0x2),0x0,_0xef5df0[_0x2a25a4(0x1bb)](Math['PI'],0x2));continue;}break;}}function durabilityColor(_0x1c5e78,_0x1e823e){const _0x51448c=_0x18bea1,_0x4d9df4={'MNIje':function(_0x30485e,_0x3ce082){return _0x30485e===_0x3ce082;},'KGEwY':_0x51448c(0x1ce),'sAsQU':function(_0x18863b,_0x1c35c4){return _0x18863b===_0x1c35c4;},'PIrTT':'extra-ball','HXWKk':'0,200,255','SlqBH':function(_0x2d8d0d,_0x12e234){return _0x2d8d0d===_0x12e234;},'gRTQR':_0x51448c(0x1fb),'iGMYq':function(_0x33eb0e,_0x4533ab){return _0x33eb0e*_0x4533ab;}};if(_0x4d9df4[_0x51448c(0x1c2)](_0x1e823e,_0x4d9df4[_0x51448c(0x170)]))return _0x51448c(0x17e);if(_0x4d9df4[_0x51448c(0x184)](_0x1e823e,_0x4d9df4[_0x51448c(0x1ea)]))return _0x4d9df4[_0x51448c(0x201)];if(_0x4d9df4[_0x51448c(0x1b5)](_0x1e823e,_0x51448c(0x1e6)))return _0x4d9df4[_0x51448c(0x1f4)];const _0x52ba5a=Math[_0x51448c(0x166)](0xff,_0x1c5e78*0x1e),_0x581606=Math[_0x51448c(0x166)](0xff,_0x4d9df4[_0x51448c(0x200)](_0x1c5e78,0xf));return _0x52ba5a+','+_0x581606+',0';}function drawBricks(){const _0x37e852=_0x18bea1;for(let _0x50bc4a of bricks){for(let _0x220168 of _0x50bc4a){_0x220168['durability']>0x0&&(ctx['fillStyle']='rgba('+durabilityColor(_0x220168['durability'],_0x220168[_0x37e852(0x20a)])+',\x20'+(nextLevelGhost?0.4:0x1)+')',ctx[_0x37e852(0x217)](_0x220168['x'],_0x220168['y'],brickWidth,brickHeight));}}}function getDurabilityRange(_0x5688df){const _0x288f0f=_0x18bea1,_0xfbba6f={'xOqVt':function(_0x5a008d,_0x4f22f5){return _0x5a008d===_0x4f22f5;},'EKtUa':function(_0x13b332,_0x29c63f){return _0x13b332===_0x29c63f;},'gAYwR':function(_0x5b54eb,_0x4c9fe5){return _0x5b54eb*_0x4c9fe5;}};if(_0xfbba6f[_0x288f0f(0x17b)](_0x5688df,0x1))return[0x1,0x1];const _0x1bc3af=_0xfbba6f[_0x288f0f(0x21c)](_0x5688df,0x2)?0x1:(_0x5688df-0x1)*0x3,_0x3e1381=_0xfbba6f[_0x288f0f(0x1cf)](_0x5688df,0x3);return[_0x1bc3af,_0x3e1381];}function generateBricksWithGhost(){const _0x19a21b=_0x18bea1,_0x2666ed={'EqbyW':function(_0x59f1b1,_0x4f7a68){return _0x59f1b1<_0x4f7a68;},'ZCvDO':function(_0x10a375,_0x205be7){return _0x10a375+_0x205be7;},'OOdRc':function(_0x3ebf31,_0x7da3bc){return _0x3ebf31*_0x7da3bc;},'mXfFK':function(_0x25236a,_0x5daf8d){return _0x25236a+_0x5daf8d;},'ITDmc':function(_0xb3e815,_0x41b346){return _0xb3e815*_0x41b346;},'GBWKL':_0x19a21b(0x1de),'GCpDW':function(_0x369f0c,_0x597b07,_0x751fc){return _0x369f0c(_0x597b07,_0x751fc);},'XnpnW':function(_0x13213f,_0xee93ef){return _0x13213f>=_0xee93ef;},'jxQGS':_0x19a21b(0x18c),'cHTfP':function(_0x374146,_0x21486e){return _0x374146>=_0x21486e;},'aFsdY':function(_0x1a7815,_0x5cd23c){return _0x1a7815<_0x5cd23c;},'jyrYw':function(_0x3cc843,_0x2fdae2){return _0x3cc843<_0x2fdae2;},'mVMUA':_0x19a21b(0x16d),'meFyw':function(_0x4cf52f,_0x5b3e3a){return _0x4cf52f<_0x5b3e3a;},'WHuCA':_0x19a21b(0x209),'GmRwX':function(_0x4582e2,_0x8e6577){return _0x4582e2*_0x8e6577;},'EuXnl':function(_0x5e7a0b,_0x458a88,_0x507f8d){return _0x5e7a0b(_0x458a88,_0x507f8d);}};nextLevelGhost=!![],levelTransitionInProgress=!![];const [_0x4c2368,_0x526697]=getDurabilityRange(level);bricks=[];for(let _0x54f0ad=0x0;_0x2666ed[_0x19a21b(0x1d9)](_0x54f0ad,brickColumnCount);_0x54f0ad++){bricks[_0x54f0ad]=[];for(let _0x688c72=0x0;_0x2666ed['EqbyW'](_0x688c72,brickRowCount);_0x688c72++){const _0x2d058a=_0x2666ed['ZCvDO'](_0x2666ed[_0x19a21b(0x220)](_0x54f0ad,_0x2666ed[_0x19a21b(0x1b7)](brickWidth,brickPadding)),brickOffsetLeft),_0x139c9f=_0x2666ed[_0x19a21b(0x1a8)](_0x2666ed[_0x19a21b(0x1db)](_0x688c72,_0x2666ed['ZCvDO'](brickHeight,brickPadding)),brickOffsetTop);let _0xfd6b72=_0x2666ed[_0x19a21b(0x192)],_0x57d4b0=_0x2666ed[_0x19a21b(0x1a3)](randomInt,_0x4c2368,_0x526697);const _0x1a38b1=Math['random']();if(_0x2666ed[_0x19a21b(0x1c9)](level,0x2)&&_0x2666ed[_0x19a21b(0x1d9)](_0x1a38b1,0.05))_0xfd6b72=_0x2666ed[_0x19a21b(0x219)],_0x57d4b0=0x1;else{if(_0x2666ed[_0x19a21b(0x204)](level,0x3)&&_0x2666ed[_0x19a21b(0x20c)](_0x1a38b1,0.05)&&_0x2666ed[_0x19a21b(0x20d)](Math[_0x19a21b(0x1fc)](),0.5))_0xfd6b72=_0x2666ed[_0x19a21b(0x165)],_0x57d4b0=0x1;else _0x2666ed['XnpnW'](level,0x1)&&_0x2666ed[_0x19a21b(0x226)](_0x1a38b1,0.15)&&(_0xfd6b72=_0x2666ed[_0x19a21b(0x1ef)],_0x57d4b0=_0x2666ed[_0x19a21b(0x1a8)](0x1,Math[_0x19a21b(0x19c)](_0x2666ed[_0x19a21b(0x191)](Math[_0x19a21b(0x1fc)](),0x3))));}bricks[_0x54f0ad][_0x688c72]={'x':_0x2d058a,'y':_0x139c9f,'durability':_0x57d4b0,'type':_0xfd6b72};}}_0x2666ed['EuXnl'](setTimeout,()=>{nextLevelGhost=![],levelTransitionInProgress=![];},0x3e8);}function randomInt(_0x228b6d,_0x1ef902){const _0x287b17=_0x18bea1,_0x4b1a33={'YsYkR':function(_0x5dfc24,_0x5544b1){return _0x5dfc24+_0x5544b1;},'Tbhhr':function(_0x496292,_0x2c570d){return _0x496292*_0x2c570d;},'vbsCU':function(_0x316626,_0x5581b0){return _0x316626-_0x5581b0;}};return _0x4b1a33[_0x287b17(0x1fe)](Math[_0x287b17(0x19c)](_0x4b1a33[_0x287b17(0x1a1)](Math[_0x287b17(0x1fc)](),_0x4b1a33[_0x287b17(0x1fe)](_0x4b1a33[_0x287b17(0x1d0)](_0x1ef902,_0x228b6d),0x1))),_0x228b6d);}function collisionDetection(_0x1d5636){const _0x29d264=_0x18bea1,_0x3061ba={'twfsG':function(_0xe4cdeb,_0x4ee767){return _0xe4cdeb>_0x4ee767;},'WIgmZ':function(_0x1e4e45,_0x19aca5){return _0x1e4e45<_0x19aca5;},'zukYb':function(_0x2c5fd0,_0x4895c8){return _0x2c5fd0>=_0x4895c8;},'wEUKj':function(_0x5a65c6,_0x30ae59){return _0x5a65c6+_0x30ae59;},'KNUCE':function(_0x15d3c6,_0x389009){return _0x15d3c6/_0x389009;},'wDBAp':function(_0x1ee56b,_0x24e1f3){return _0x1ee56b-_0x24e1f3;},'eaEWu':function(_0x4df46d,_0xa6747d){return _0x4df46d<=_0xa6747d;},'eawUg':function(_0x30dcf7,_0x32b504){return _0x30dcf7/_0x32b504;},'eEZzq':function(_0xe2e0f,_0x473872){return _0xe2e0f*_0x473872;},'WiKRq':function(_0x449a9c,_0x32bbe5){return _0x449a9c/_0x32bbe5;},'YbRZF':function(_0x26f221,_0x2455b3){return _0x26f221-_0x2455b3;},'WnETu':function(_0x274e97,_0x4fd971){return _0x274e97+_0x4fd971;},'sVrfH':function(_0x1c87fd,_0xa22e0c){return _0x1c87fd/_0xa22e0c;},'cUSQU':function(_0x20b243,_0x17ca97){return _0x20b243*_0x17ca97;},'lwyqU':function(_0x25da82,_0x1a7e73){return _0x25da82>_0x1a7e73;},'EEIvH':function(_0x37d513,_0x12ab1c){return _0x37d513+_0x12ab1c;},'uhbDK':function(_0x1f2ad0,_0x3b3ff6){return _0x1f2ad0<=_0x3b3ff6;},'gUNLs':_0x29d264(0x209),'UtVWz':function(_0x56325e,_0x3a23fe,_0x3f8135){return _0x56325e(_0x3a23fe,_0x3f8135);},'pQhmv':function(_0x512ce9,_0x18ca8c){return _0x512ce9*_0x18ca8c;},'KUQat':function(_0x24c801,_0x4807dc){return _0x24c801-_0x4807dc;},'fAkct':_0x29d264(0x16d),'QxRlK':function(_0x2e7363,_0x3e5814){return _0x2e7363*_0x3e5814;},'zLmAy':_0x29d264(0x1e6),'dgudF':function(_0x2e2b28,_0x502fbd){return _0x2e2b28(_0x502fbd);}};if(_0x1d5636['x']<0x0||_0x3061ba['twfsG'](_0x1d5636['x'],canvas[_0x29d264(0x21b)]))_0x1d5636['dx']*=-0x1;if(_0x3061ba['WIgmZ'](_0x1d5636['y'],0x0))_0x1d5636['dy']*=-0x1;if(_0x3061ba['zukYb'](_0x3061ba[_0x29d264(0x215)](_0x1d5636['y'],_0x3061ba[_0x29d264(0x1dc)](ballSize,0x2)),_0x3061ba[_0x29d264(0x173)](canvas[_0x29d264(0x1bf)],paddleHeight))&&_0x3061ba[_0x29d264(0x1f0)](_0x1d5636['x'],paddleX)&&_0x3061ba['eaEWu'](_0x1d5636['x'],paddleX+paddleWidth)){const _0x470b8e=_0x3061ba[_0x29d264(0x1b6)](_0x3061ba[_0x29d264(0x1c4)](_0x3061ba[_0x29d264(0x186)](_0x3061ba['YbRZF'](_0x1d5636['x'],_0x3061ba[_0x29d264(0x20f)](paddleX,_0x3061ba['sVrfH'](paddleWidth,0x2))),paddleWidth),Math['PI']),0x3),_0x2ae1ef=BALL_SPEED;_0x1d5636['dx']=_0x3061ba[_0x29d264(0x1e2)](_0x2ae1ef,Math['sin'](_0x470b8e)),_0x1d5636['dy']=-Math['abs'](_0x3061ba[_0x29d264(0x1c4)](_0x2ae1ef,Math[_0x29d264(0x18a)](_0x470b8e)));}for(let _0x1777cc of bricks){for(let _0xb0fc3b of _0x1777cc){if(_0x3061ba['lwyqU'](_0xb0fc3b[_0x29d264(0x16f)],0x0)&&_0x1d5636['x']>_0xb0fc3b['x']&&_0x3061ba[_0x29d264(0x206)](_0x1d5636['x'],_0xb0fc3b['x']+brickWidth)&&_0x3061ba['lwyqU'](_0x1d5636['y'],_0xb0fc3b['y'])&&_0x1d5636['y']<_0x3061ba[_0x29d264(0x181)](_0xb0fc3b['y'],brickHeight)){_0xb0fc3b[_0x29d264(0x16f)]--,_0x1d5636['dy']*=-0x1;_0x1d5636[_0x29d264(0x223)]&&(_0x1d5636['dx']*=1.1,_0x1d5636['dy']*=1.1);if(_0x3061ba[_0x29d264(0x213)](_0xb0fc3b[_0x29d264(0x16f)],0x0))switch(_0xb0fc3b[_0x29d264(0x20a)]){case _0x29d264(0x1ce):lives++;break;case _0x3061ba[_0x29d264(0x171)]:const _0x2ec1d9=_0x3061ba[_0x29d264(0x1e7)](randomInt,0x1,0x3);for(let _0x339dff=0x0;_0x339dff<_0x2ec1d9;_0x339dff++){balls[_0x29d264(0x1aa)]({'x':_0xb0fc3b['x'],'y':_0xb0fc3b['y'],'dx':_0x3061ba['pQhmv'](_0x3061ba[_0x29d264(0x19b)](_0x3061ba[_0x29d264(0x1ca)](Math[_0x29d264(0x1fc)](),0.5),BALL_SPEED),0x2),'dy':-BALL_SPEED});}break;case _0x29d264(0x18c):_0x3061ba[_0x29d264(0x1e7)](explodeSurroundingBricks,c,r);break;case _0x3061ba[_0x29d264(0x194)]:for(let _0x3485ba=0x0;_0x3485ba<0x2;_0x3485ba++){balls[_0x29d264(0x1aa)]({'x':_0xb0fc3b['x'],'y':_0xb0fc3b['y'],'dx':_0x3061ba[_0x29d264(0x19a)](_0x3061ba[_0x29d264(0x1c4)](_0x3061ba['wDBAp'](Math[_0x29d264(0x1fc)](),0.5),BALL_SPEED),0x3),'dy':_0x3061ba[_0x29d264(0x19b)](-BALL_SPEED,1.5),'yellow':!![]});}break;case _0x3061ba[_0x29d264(0x224)]:let _0x55d69a=balls[_0x29d264(0x1b9)](_0x3976f3=>({'x':_0x3976f3['x'],'y':_0x3976f3['y'],'dx':-_0x3976f3['dx'],'dy':-_0x3976f3['dy']}));balls[_0x29d264(0x1aa)](..._0x55d69a);break;}hitSound['currentTime']=0x0,hitSound[_0x29d264(0x1df)](),score++,_0x3061ba[_0x29d264(0x1b8)](updateMaxScore,score);}}}}function explodeSurroundingBricks(_0x792a78,_0x152495){const _0x3d18ee=_0x18bea1,_0x34088a={'xkSJN':function(_0x46d4e9,_0x24de88){return _0x46d4e9-_0x24de88;},'yfaQp':function(_0x30f8d4,_0x179191){return _0x30f8d4+_0x179191;},'dvTez':function(_0x2e1536,_0x14e284){return _0x2e1536>_0x14e284;}};for(let _0x496898=_0x34088a['xkSJN'](_0x792a78,0x1);_0x496898<=_0x34088a[_0x3d18ee(0x1d7)](_0x792a78,0x1);_0x496898++){for(let _0xe865f5=_0x34088a[_0x3d18ee(0x1ba)](_0x152495,0x1);_0xe865f5<=_0x34088a[_0x3d18ee(0x1d7)](_0x152495,0x1);_0xe865f5++){bricks[_0x496898]&&bricks[_0x496898][_0xe865f5]&&_0x34088a['dvTez'](bricks[_0x496898][_0xe865f5][_0x3d18ee(0x16f)],0x0)&&(score+=bricks[_0x496898][_0xe865f5]['durability'],bricks[_0x496898][_0xe865f5][_0x3d18ee(0x16f)]=0x0);}}}function sanitizeUsername(_0x4fc32e){const _0x39bb86=_0x18bea1;return _0x4fc32e[_0x39bb86(0x195)](/[.#$\[\]]/g,'_');}function updateMaxScore(_0x2a2c49){const _0x517c8f=_0x18bea1,_0x304700={'UEEKS':function(_0x3ea338,_0xc6b8fd){return _0x3ea338>_0xc6b8fd;},'fDgSh':function(_0x3f0c6e,_0x5122f2){return _0x3f0c6e<=_0x5122f2;},'RMMHW':function(_0x4613f7,_0x262f46){return _0x4613f7(_0x262f46);}};if(!currentUser||_0x304700[_0x517c8f(0x1e3)](_0x2a2c49,topScore))return;topScore=_0x2a2c49;const _0x1d4279=_0x304700[_0x517c8f(0x1ec)](sanitizeUsername,currentUser[_0x517c8f(0x169)]),_0x4318d1=db[_0x517c8f(0x185)](_0x517c8f(0x1e5)+_0x1d4279);_0x4318d1[_0x517c8f(0x1c6)]()[_0x517c8f(0x1d8)](_0x80f7fd=>{const _0x390177=_0x517c8f,_0x1220f3=_0x80f7fd[_0x390177(0x1f2)]();(!_0x1220f3||_0x304700['UEEKS'](_0x2a2c49,_0x1220f3[_0x390177(0x1be)]||0x0))&&_0x4318d1[_0x390177(0x172)]({'username':currentUser['username'],'maxScore':_0x2a2c49,'timestamp':Date['now']()});});}function listenToLeaderboard(){const _0x3d733d=_0x18bea1,_0xa1ed39={'WOXLX':function(_0x335a1a,_0x65d19b){return _0x335a1a===_0x65d19b;},'GSGIs':function(_0x294664,_0xda8d4){return _0x294664+_0xda8d4;},'jEzvK':_0x3d733d(0x187),'uMHbO':_0x3d733d(0x19d),'lDhgN':_0x3d733d(0x1b2)},_0xb3e3c4=document[_0x3d733d(0x216)](_0xa1ed39[_0x3d733d(0x1c7)]);db[_0x3d733d(0x185)](_0xa1ed39[_0x3d733d(0x176)])['on'](_0xa1ed39[_0x3d733d(0x1d3)],async _0xee7f60=>{const _0x3e8df2=_0x3d733d,_0x2bb120={'XRZyA':function(_0x43a72d,_0x3fba88){return _0x43a72d(_0x3fba88);},'EjVTE':function(_0x32a980,_0x79e332){const _0x4c32fa=_0x11ad;return _0xa1ed39[_0x4c32fa(0x1a9)](_0x32a980,_0x79e332);},'Dvktp':function(_0x36ee7e,_0x31e9ff){const _0x470a3f=_0x11ad;return _0xa1ed39[_0x470a3f(0x1a9)](_0x36ee7e,_0x31e9ff);},'vOnOT':function(_0x265de0,_0x4590dc){return _0xa1ed39['GSGIs'](_0x265de0,_0x4590dc);}},_0x4bcce2=[],_0x269372=[];_0xee7f60[_0x3e8df2(0x199)](_0x210c21=>{const _0x78bf92=_0x3e8df2,_0x19f999=_0x210c21[_0x78bf92(0x1f2)]();_0x19f999[_0x78bf92(0x169)]&&_0x19f999[_0x78bf92(0x1be)]&&(_0x4bcce2[_0x78bf92(0x1aa)](_0x19f999),_0x269372[_0x78bf92(0x1aa)](db[_0x78bf92(0x185)]('auth/'+_0x2bb120[_0x78bf92(0x1cb)](sanitizeUsername,_0x19f999[_0x78bf92(0x169)])+'/avatarBase64')[_0x78bf92(0x1c6)]()));});const _0x218d2f=await Promise[_0x3e8df2(0x180)](_0x269372);_0x4bcce2['forEach']((_0x5bd103,_0x4072a7)=>{const _0x2c57e2=_0x3e8df2;_0x5bd103['avatarBase64']=_0x218d2f[_0x4072a7][_0x2c57e2(0x1f2)]()||'';}),_0x4bcce2['sort']((_0xad90c,_0x38fc0b)=>_0x38fc0b['maxScore']-_0xad90c['maxScore']);const _0x52183e=_0x4bcce2['slice'](0x0,0x14);_0xb3e3c4[_0x3e8df2(0x1a6)]=_0x52183e['map']((_0xa27b98,_0x4b34eb)=>{const _0x5942ad=_0x3e8df2,_0x4d9cc8=_0x2bb120['EjVTE'](_0x4b34eb,0x0)?'🥇':_0x2bb120[_0x5942ad(0x1ed)](_0x4b34eb,0x1)?'🥈':_0x2bb120[_0x5942ad(0x17c)](_0x4b34eb,0x2)?'🥉':'',_0x3962dd=_0x5942ad(0x1d1)+_0x2bb120['vOnOT'](_0x4b34eb,0x1)+'\x20'+_0x4d9cc8+_0x5942ad(0x16c);return _0x5942ad(0x17f)+_0x3962dd+_0x5942ad(0x1b1)+_0xa27b98['avatarBase64']+'\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>'+_0xa27b98[_0x5942ad(0x169)]+_0x5942ad(0x1ab)+_0xa27b98[_0x5942ad(0x1be)]+_0x5942ad(0x211);})['join']('');});}function drawHUD(){const _0x2381d8=_0x18bea1,_0x5d132a={'LyENX':'16px\x20Arial','FPhlf':'#fff','gBaAl':function(_0x16feec,_0x49c87f){return _0x16feec-_0x49c87f;},'YMXZA':function(_0x3464cf,_0x3bd25d){return _0x3464cf/_0x3bd25d;}};ctx['font']=_0x5d132a[_0x2381d8(0x18f)],ctx[_0x2381d8(0x228)]=_0x5d132a[_0x2381d8(0x222)],ctx[_0x2381d8(0x19f)](_0x2381d8(0x188)+score,0x8,0x14),ctx['fillText']('Lives:\x20'+lives,_0x5d132a['gBaAl'](canvas[_0x2381d8(0x21b)],0x64),0x14),ctx[_0x2381d8(0x19f)](_0x2381d8(0x1a0)+level,_0x5d132a[_0x2381d8(0x168)](_0x5d132a[_0x2381d8(0x214)](canvas[_0x2381d8(0x21b)],0x2),0x1e),0x14);}function gameLoop(){const _0x4df337=_0x18bea1,_0x4542b0={'xogZc':function(_0x2f1205,_0xf4ef19){return _0x2f1205/_0xf4ef19;},'sKiCl':function(_0x152082,_0x2e4e0d){return _0x152082-_0x2e4e0d;},'cJdTU':function(_0xefaf3b,_0x2d710f){return _0xefaf3b-_0x2d710f;},'TgjxO':function(_0x1d39a5){return _0x1d39a5();},'wOzVU':function(_0x3bd1e9){return _0x3bd1e9();},'JxRgF':function(_0x32a02b){return _0x32a02b();},'ZdJip':function(_0x52f3ef,_0x39c927){return _0x52f3ef-_0x39c927;},'oAgkC':function(_0x5e66b1,_0x1dc216){return _0x5e66b1(_0x1dc216);},'kXziE':function(_0x1ce742,_0x28fe3d){return _0x1ce742>_0x28fe3d;},'TfnKo':function(_0x5b7169,_0x4ec950,_0x309da8){return _0x5b7169(_0x4ec950,_0x309da8);}};ctx[_0x4df337(0x1cd)](0x0,0x0,canvas[_0x4df337(0x21b)],canvas[_0x4df337(0x1bf)]),_0x4542b0['TgjxO'](movePaddle),_0x4542b0[_0x4df337(0x193)](drawBricks),_0x4542b0[_0x4df337(0x1d6)](drawPaddle),_0x4542b0['wOzVU'](drawHUD);for(let _0x5b80e3=_0x4542b0[_0x4df337(0x21f)](balls['length'],0x1);_0x5b80e3>=0x0;_0x5b80e3--){const _0x2191cd=balls[_0x5b80e3];_0x4542b0[_0x4df337(0x1af)](drawBall,_0x2191cd),_0x2191cd['x']+=_0x2191cd['dx'],_0x2191cd['y']+=_0x2191cd['dy'],collisionDetection(_0x2191cd);if(_0x2191cd['y']-_0x4542b0[_0x4df337(0x225)](ballSize,0x2)>canvas[_0x4df337(0x1bf)])balls[_0x4df337(0x210)](_0x5b80e3,0x1);}if(balls[_0x4df337(0x1d2)]===0x0&&!ballResetInProgress){if(_0x4542b0[_0x4df337(0x202)](lives,0x1))ballResetInProgress=!![],lives--,_0x4542b0[_0x4df337(0x1dd)](setTimeout,()=>{const _0x33845e=_0x4df337;balls=[{'x':_0x4542b0[_0x33845e(0x225)](canvas[_0x33845e(0x21b)],0x2),'y':_0x4542b0[_0x33845e(0x1f3)](canvas[_0x33845e(0x1bf)],0x1e),'dx':BALL_SPEED,'dy':-BALL_SPEED}],paddleX=_0x4542b0[_0x33845e(0x1bc)](canvas[_0x33845e(0x21b)],paddleWidth)/0x2,ballResetInProgress=![];},0x3e8);else{_0x4542b0['TgjxO'](showGameOverScreen);return;}}!levelTransitionInProgress&&bricks[_0x4df337(0x1c0)]()[_0x4df337(0x177)](_0x163caf=>_0x163caf[_0x4df337(0x16f)]<=0x0)&&(level++,_0x4542b0[_0x4df337(0x193)](generateBricksWithGhost)),!ballResetInProgress?_0x4542b0[_0x4df337(0x1af)](requestAnimationFrame,gameLoop):_0x4542b0[_0x4df337(0x1dd)](setTimeout,gameLoop,0x10);}function showGameOverScreen(){const _0x5134ba=_0x18bea1,_0x1a5818={'TMpzS':'absolute','xvdQu':_0x5134ba(0x1cc),'rVeSQ':_0x5134ba(0x1ae),'STJyh':_0x5134ba(0x212),'MMnbE':'flex','vzmjW':'center'},_0x52d9c0=document['createElement'](_0x5134ba(0x1a4));_0x52d9c0['id']=_0x5134ba(0x1da),_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x16e)]=_0x1a5818[_0x5134ba(0x196)],_0x52d9c0[_0x5134ba(0x1e9)]['top']='0',_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x1f9)]='0',_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x21b)]=_0x1a5818[_0x5134ba(0x1bd)],_0x52d9c0[_0x5134ba(0x1e9)]['height']=_0x1a5818[_0x5134ba(0x1bd)],_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x1d4)]=_0x1a5818[_0x5134ba(0x183)],_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x227)]=_0x1a5818[_0x5134ba(0x1ff)],_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x1f7)]=_0x1a5818[_0x5134ba(0x197)],_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x1f1)]=_0x5134ba(0x17d),_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x1a2)]=_0x1a5818[_0x5134ba(0x1b0)],_0x52d9c0[_0x5134ba(0x1e9)][_0x5134ba(0x1b3)]=_0x1a5818['vzmjW'],_0x52d9c0[_0x5134ba(0x1e9)]['zIndex']=_0x5134ba(0x167),_0x52d9c0['innerHTML']='\x0a\x20\x20\x20\x20<h2>🎮\x20Game\x20Over!</h2>\x0a\x20\x20\x20\x20<p>Your\x20score:\x20<b>'+score+_0x5134ba(0x218),document[_0x5134ba(0x1c3)]['appendChild'](_0x52d9c0);}function restartGame(){const _0x1777dc=_0x18bea1,_0x53d605={'HXCyT':_0x1777dc(0x1da),'FhOpb':function(_0x151f76,_0x5a0b0b){return _0x151f76-_0x5a0b0b;},'GjWeD':function(_0x39c586){return _0x39c586();}};document['getElementById'](_0x53d605[_0x1777dc(0x21a)])[_0x1777dc(0x207)](),score=0x0,level=0x1,lives=0x3,isGameStarted=![],balls=[],paddleX=_0x53d605[_0x1777dc(0x17a)](canvas[_0x1777dc(0x21b)],paddleWidth)/0x2,Object['keys'](keys)['forEach'](_0x53b1e2=>keys[_0x53b1e2]=![]),ctx['clearRect'](0x0,0x0,canvas['width'],canvas[_0x1777dc(0x1bf)]),_0x53d605[_0x1777dc(0x221)](drawHUD),_0x53d605[_0x1777dc(0x221)](drawBricks),_0x53d605[_0x1777dc(0x221)](drawPaddle);}