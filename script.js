function _0x4580(_0x296ea5,_0x268320){const _0x3fe07a=_0x3fe0();return _0x4580=function(_0x458017,_0x5e0f66){_0x458017=_0x458017-0x17a;let _0x3f1c84=_0x3fe07a[_0x458017];return _0x3f1c84;},_0x4580(_0x296ea5,_0x268320);}const _0x36911c=_0x4580;(function(_0x15506e,_0xb2961d){const _0x321d4d=_0x4580,_0x5dca6f=_0x15506e();while(!![]){try{const _0x86f333=-parseInt(_0x321d4d(0x226))/0x1+parseInt(_0x321d4d(0x1bc))/0x2+parseInt(_0x321d4d(0x1ec))/0x3*(parseInt(_0x321d4d(0x19b))/0x4)+parseInt(_0x321d4d(0x229))/0x5*(-parseInt(_0x321d4d(0x19e))/0x6)+parseInt(_0x321d4d(0x1b3))/0x7*(parseInt(_0x321d4d(0x22b))/0x8)+parseInt(_0x321d4d(0x1aa))/0x9*(parseInt(_0x321d4d(0x18d))/0xa)+-parseInt(_0x321d4d(0x1d1))/0xb;if(_0x86f333===_0xb2961d)break;else _0x5dca6f['push'](_0x5dca6f['shift']());}catch(_0x3df970){_0x5dca6f['push'](_0x5dca6f['shift']());}}}(_0x3fe0,0xac59f));function _0x3fe0(){const _0x301c6d=['245485RqtWqD','center','0,200,255','5NsnJpO','cUAhq','1014800KinOdp','val','HbaPJ','sjDXK','addEventListener','HcWyY','bQyex','beginPath','absolute','push','WhRoC','yellow-balls','XrdRD','value','StUkY','beforeunload','TOOXc','fvjOK','czKnK','QKZwU','jIFzf','map','get','KJrUF','replace','length','font','hit.mp3','KAJKJ','lTbhv','/avatarBase64','</span>','forEach','WsBYl','VbYOY','XwTIi','tDWKB','bErvp','10ntjZIT','dnGtX','16px\x20Arial','jijXU','fillStyle','JFrtl','IDPgc','lDDOV','ref','left','extra-ball','yXZSD','wwesc','min','64588QWSUnc','3|4|9|2|1|7|10|5|6|8|0|11','qojHD','8414322RMaPsB','gIZit','YEtuo','play','YHXWS','<span\x20style=\x22margin-right:8px;\x22>','username','Scnfg','zIcpd','getElementById','key','yTGGt','10261917pfoXOJ','1000','4|0|2|3|1','rgba(0,0,0,0.85)','vRuuQ','0,255,0','MHyOw','fOxFM','YboUx','63zZGmHP','appendChild','removeItem','position','FLPVv','dYQKT','FZHwE','maxScore','keyup','1532932TdwGum','QKoZd','split','ojGJl','MFLVj','every','keydown','qHaOP','UuwvP','hxKPi','opkys','sort','set','breakoutScores/','ball-multiplier','closePath','actdt','FdDii','yellow','now','breakoutScores','21671309ZAxRlU','fillRect','durability','wVgcj','kZvyv','floor','bomb','random','flexDirection','MkDJT','PZNLq','join','HrfTw','arc','qLsRB','\x0a\x20\x20\x20\x20<h2>ðŸŽ®\x20Game\x20Over!</h2>\x0a\x20\x20\x20\x20<p>Your\x20score:\x20<b>','display','yhEtN','gJMWc','AYDkM','NYdZN','#fff','qnUkd','MscqO','dQkEh','extra-life','normal','237weFmdo','leaderboardEntries','currentTime','TmmDp','itBTo','DwOxf','lZdfj','top','fillText','clearRect','XZRef','\x22\x20/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>','UTkFT','width','flat','breakout_avatar','rQCvR','cMemj','tlxEJ','255,0,255','ywyCv','Lives:\x20','4|3|2|1|0','otbvH','type','BdswT','remove','</span>\x20-\x20<b>','all','UqFJF','dcUyz','xnUDY','keys','max','XwdSd','TGfgg','innerHTML','zIndex','style','StpaY','ArrowLeft','gameOverScreen','ArrowRight','LCrXi','cUdvS','fill','HwWjU','slice','abs','xyrTp','alignItems','djlif','PLWgb','avatarBase64','TXzbS','justifyContent','height','color'];_0x3fe0=function(){return _0x301c6d;};return _0x3fe0();}const canvas=document[_0x36911c(0x1a7)]('gameCanvas'),ctx=canvas['getContext']('2d');canvas[_0x36911c(0x1f9)]=0x320,canvas[_0x36911c(0x224)]=0x258;const hitSound=new Audio(_0x36911c(0x182));let levelTransitionInProgress=![],ballResetInProgress=![];const BALL_SPEED=3.25,paddleWidth=0x64,paddleHeight=0xa;let paddleX=(canvas[_0x36911c(0x1f9)]-paddleWidth)/0x2,paddleSpeed=0x0;const maxPaddleSpeed=0x4,acceleration=0.5,friction=0.1,ballSize=0xa;let balls=[];const brickWidth=0x4b,brickHeight=0x14,brickPadding=0xa,brickOffsetTop=0x32,brickOffsetLeft=0x23,brickColumnCount=0x8,brickRowCount=0x5;let bricks=[],isGameStarted=![],score=0x0,lives=0x3,level=0x1,nextLevelGhost=![],currentUser=null,topScore=0x0;((async()=>{const _0x48f9bf=_0x36911c,_0x5351b8={'actdt':'breakout_user','yTGGt':_0x48f9bf(0x1fb),'yXZSD':function(_0x177b69){return _0x177b69();}};currentUser=await _0x5351b8[_0x48f9bf(0x198)](authenticateFromURL);if(!currentUser)return;listenToLeaderboard(),window[_0x48f9bf(0x22f)](_0x48f9bf(0x23a),()=>{const _0x592588=_0x48f9bf;sessionStorage['removeItem'](_0x5351b8[_0x592588(0x1cc)]),sessionStorage[_0x592588(0x1b5)](_0x5351b8[_0x592588(0x1a9)]);});})());const keys={};document[_0x36911c(0x22f)](_0x36911c(0x1c2),_0x2d8806=>{const _0x2ed457=_0x36911c,_0x5b72ea={'cUAhq':function(_0x130649,_0x10e12c){return _0x130649===_0x10e12c;},'jijXU':_0x2ed457(0x214),'wwesc':function(_0x4aac33,_0x3302b2){return _0x4aac33===_0x3302b2;},'xnUDY':_0x2ed457(0x216),'XwdSd':function(_0x283187){return _0x283187();}};keys[_0x2d8806[_0x2ed457(0x1a8)]]=!![],!isGameStarted&&(_0x5b72ea[_0x2ed457(0x22a)](_0x2d8806[_0x2ed457(0x1a8)],_0x5b72ea[_0x2ed457(0x190)])||_0x5b72ea[_0x2ed457(0x199)](_0x2d8806['key'],_0x5b72ea[_0x2ed457(0x20b)]))&&(isGameStarted=!![],_0x5b72ea[_0x2ed457(0x20e)](resetLevel),_0x5b72ea[_0x2ed457(0x20e)](gameLoop));}),document[_0x36911c(0x22f)](_0x36911c(0x1bb),_0x1f7dd5=>keys[_0x1f7dd5['key']]=![]);function resetLevel(){const _0x3fd1c2=_0x36911c,_0x1e930a={'rQCvR':function(_0x27b615,_0x7478c0){return _0x27b615/_0x7478c0;},'fvjOK':function(_0x349d11,_0x39856a){return _0x349d11/_0x39856a;}};balls=[{'x':_0x1e930a[_0x3fd1c2(0x1fc)](canvas['width'],0x2),'y':canvas[_0x3fd1c2(0x224)]-0x1e,'dx':BALL_SPEED,'dy':-BALL_SPEED}],paddleX=_0x1e930a[_0x3fd1c2(0x23c)](canvas[_0x3fd1c2(0x1f9)]-paddleWidth,0x2),generateBricksWithGhost();}function movePaddle(){const _0x101f36=_0x36911c,_0x350238={'HrfTw':_0x101f36(0x214),'kKgQF':_0x101f36(0x216),'tDWKB':function(_0x500bc6,_0x4db617){return _0x500bc6-_0x4db617;},'sjDXK':function(_0x29b766,_0x54597e){return _0x29b766-_0x54597e;}};if(keys[_0x350238[_0x101f36(0x1dd)]])paddleSpeed-=acceleration;else{if(keys[_0x350238['kKgQF']])paddleSpeed+=acceleration;else paddleSpeed*=_0x350238[_0x101f36(0x18b)](0x1,friction);}paddleSpeed=Math[_0x101f36(0x20d)](Math[_0x101f36(0x19a)](paddleSpeed,maxPaddleSpeed),-maxPaddleSpeed),paddleX+=paddleSpeed,paddleX=Math[_0x101f36(0x20d)](0x0,Math['min'](paddleX,_0x350238[_0x101f36(0x22e)](canvas[_0x101f36(0x1f9)],paddleWidth)));}function drawPaddle(){const _0x472c49=_0x36911c,_0x20e7eb={'XwTIi':'#fff'};ctx[_0x472c49(0x191)]=_0x20e7eb[_0x472c49(0x18a)],ctx[_0x472c49(0x1d2)](paddleX,canvas['height']-paddleHeight,paddleWidth,paddleHeight);}function drawBall(_0x995723){const _0x4991ee=_0x36911c,_0x5e086c={'TmmDp':_0x4991ee(0x202),'kZvyv':_0x4991ee(0x1e6),'zIcpd':function(_0x38ebea,_0x52cc31){return _0x38ebea/_0x52cc31;},'KJrUF':function(_0x1330d7,_0x24aa45){return _0x1330d7*_0x24aa45;}},_0x5c8751=_0x5e086c[_0x4991ee(0x1ef)]['split']('|');let _0x555642=0x0;while(!![]){switch(_0x5c8751[_0x555642++]){case'0':ctx[_0x4991ee(0x1cb)]();continue;case'1':ctx[_0x4991ee(0x219)]();continue;case'2':ctx[_0x4991ee(0x191)]=_0x5e086c[_0x4991ee(0x1d5)];continue;case'3':ctx[_0x4991ee(0x1de)](_0x995723['x'],_0x995723['y'],_0x5e086c[_0x4991ee(0x1a6)](ballSize,0x2),0x0,_0x5e086c[_0x4991ee(0x17e)](Math['PI'],0x2));continue;case'4':ctx[_0x4991ee(0x232)]();continue;}break;}}function durabilityColor(_0x147d92,_0x32b93e){const _0x4b4b69=_0x36911c,_0x132d31={'zhUoq':function(_0x5b6ab3,_0xb06c46){return _0x5b6ab3===_0xb06c46;},'tlxEJ':_0x4b4b69(0x1ea),'MkDJT':function(_0xfc2c9,_0x31a95e){return _0xfc2c9===_0x31a95e;},'UTkFT':_0x4b4b69(0x197),'YHXWS':function(_0x27fb5e,_0x218e80){return _0x27fb5e===_0x218e80;},'dnGtX':_0x4b4b69(0x1ca),'MFLVj':function(_0x1bfb07,_0x172808){return _0x1bfb07*_0x172808;}};if(_0x132d31['zhUoq'](_0x32b93e,_0x132d31[_0x4b4b69(0x1fe)]))return _0x4b4b69(0x1af);if(_0x132d31[_0x4b4b69(0x1da)](_0x32b93e,_0x132d31[_0x4b4b69(0x1f8)]))return _0x4b4b69(0x228);if(_0x132d31[_0x4b4b69(0x1a2)](_0x32b93e,_0x132d31[_0x4b4b69(0x18e)]))return _0x4b4b69(0x1ff);const _0x134bb0=Math[_0x4b4b69(0x19a)](0xff,_0x132d31[_0x4b4b69(0x1c0)](_0x147d92,0x3c)),_0x44b911=Math['min'](0xff,_0x132d31[_0x4b4b69(0x1c0)](_0x147d92,0x1e));return _0x134bb0+','+_0x44b911+',0';}function drawBricks(){const _0x4dcce7=_0x36911c,_0x276877={'inUyT':function(_0xb5b665,_0x4e6848){return _0xb5b665>_0x4e6848;},'aTToC':function(_0x1daf38,_0x1c88f5,_0x205b75){return _0x1daf38(_0x1c88f5,_0x205b75);}};for(let _0x976188 of bricks){for(let _0x252a85 of _0x976188){_0x276877['inUyT'](_0x252a85[_0x4dcce7(0x1d3)],0x0)&&(ctx[_0x4dcce7(0x191)]='rgba('+_0x276877['aTToC'](durabilityColor,_0x252a85[_0x4dcce7(0x1d3)],_0x252a85[_0x4dcce7(0x204)])+',\x20'+(nextLevelGhost?0.4:0x1)+')',ctx[_0x4dcce7(0x1d2)](_0x252a85['x'],_0x252a85['y'],brickWidth,brickHeight));}}}function getDurabilityRange(_0xec122){const _0x56a55f=_0x36911c,_0x5597c0={'UqFJF':function(_0x2fc91d,_0x1a7d28){return _0x2fc91d===_0x1a7d28;},'wEhQh':function(_0x2407f5,_0x21d8f0){return _0x2407f5===_0x21d8f0;},'dyJvg':function(_0x389706,_0x90b61f){return _0x389706*_0x90b61f;},'HctPJ':function(_0x1f7c34,_0x848789){return _0x1f7c34-_0x848789;}};if(_0x5597c0[_0x56a55f(0x209)](_0xec122,0x1))return[0x1,0x1];const _0x15f517=_0x5597c0['wEhQh'](_0xec122,0x2)?0x1:_0x5597c0['dyJvg'](_0x5597c0['HctPJ'](_0xec122,0x1),0x3),_0x105e98=_0xec122*0x3;return[_0x15f517,_0x105e98];}function generateBricksWithGhost(){const _0x13c111=_0x36911c,_0x5dcbdc={'uWbzB':function(_0x223b50,_0x1b36fd){return _0x223b50(_0x1b36fd);},'TGfgg':function(_0x2f2b71,_0x47b055){return _0x2f2b71<_0x47b055;},'qLsRB':function(_0x37237c,_0x30a1e0){return _0x37237c+_0x30a1e0;},'lOdvU':function(_0x209fe5,_0x100211){return _0x209fe5*_0x100211;},'lTbhv':function(_0xd666f8,_0x1ffc9a){return _0xd666f8*_0x1ffc9a;},'qojHD':_0x13c111(0x1eb),'xXPjj':function(_0x4dbe48,_0x44294a){return _0x4dbe48>=_0x44294a;},'MscqO':_0x13c111(0x197),'dcUyz':function(_0x345ca1,_0x16e85d){return _0x345ca1*_0x16e85d;},'uaYJG':function(_0x54d68b,_0x2159c2){return _0x54d68b>=_0x2159c2;},'YEtuo':function(_0x55c0c2,_0x5c32ba){return _0x55c0c2<_0x5c32ba;},'StUkY':_0x13c111(0x1d7),'qHaOP':function(_0x57941a,_0x1b6130){return _0x57941a<=_0x1b6130;},'bQyex':function(_0x8bcde3,_0x17cffc,_0x26a561){return _0x8bcde3(_0x17cffc,_0x26a561);}};nextLevelGhost=!![],levelTransitionInProgress=!![];const [_0x4347ee,_0x195342]=_0x5dcbdc['uWbzB'](getDurabilityRange,level);bricks=[];for(let _0x426760=0x0;_0x426760<brickColumnCount;_0x426760++){bricks[_0x426760]=[];for(let _0x4c5dd9=0x0;_0x5dcbdc[_0x13c111(0x20f)](_0x4c5dd9,brickRowCount);_0x4c5dd9++){const _0x37b6ec=_0x5dcbdc[_0x13c111(0x1df)](_0x5dcbdc['lOdvU'](_0x426760,brickWidth+brickPadding),brickOffsetLeft),_0x481631=_0x5dcbdc[_0x13c111(0x184)](_0x4c5dd9,_0x5dcbdc[_0x13c111(0x1df)](brickHeight,brickPadding))+brickOffsetTop,_0x14cd3b=Math[_0x13c111(0x1d8)]();let _0x40c789=_0x5dcbdc[_0x13c111(0x19d)],_0x36bf2a=randomInt(_0x4347ee,_0x195342);if(_0x5dcbdc['xXPjj'](level,0x1)&&_0x14cd3b<0.1)_0x40c789=_0x5dcbdc[_0x13c111(0x1e8)],_0x36bf2a=0x1+Math[_0x13c111(0x1d6)](_0x5dcbdc[_0x13c111(0x20a)](Math['random'](),0x3));else{if(_0x5dcbdc['uaYJG'](level,0x2)&&_0x5dcbdc[_0x13c111(0x1a0)](_0x14cd3b,0.02))_0x40c789=_0x5dcbdc[_0x13c111(0x239)],_0x36bf2a=0x1;else _0x5dcbdc[_0x13c111(0x1c3)](level,0x3)&&_0x5dcbdc[_0x13c111(0x20f)](_0x14cd3b,0.03)&&(_0x40c789=_0x13c111(0x236),_0x36bf2a=0x1);}bricks[_0x426760][_0x4c5dd9]={'x':_0x37b6ec,'y':_0x481631,'durability':_0x36bf2a,'type':_0x40c789};}}_0x5dcbdc[_0x13c111(0x231)](setTimeout,()=>{nextLevelGhost=![],levelTransitionInProgress=![];},0x3e8);}function randomInt(_0xd3ff57,_0x59331b){const _0x2afdbe=_0x36911c,_0x2e908f={'yhEtN':function(_0x329bc2,_0x4bb9e8){return _0x329bc2+_0x4bb9e8;},'djlif':function(_0xc2ea09,_0x1bd408){return _0xc2ea09-_0x1bd408;}};return _0x2e908f[_0x2afdbe(0x1e2)](Math[_0x2afdbe(0x1d6)](Math[_0x2afdbe(0x1d8)]()*(_0x2e908f[_0x2afdbe(0x21f)](_0x59331b,_0xd3ff57)+0x1)),_0xd3ff57);}function collisionDetection(_0x402d0c){const _0x518812=_0x36911c,_0x375b11={'dYQKT':function(_0x36f3de,_0x1461bd){return _0x36f3de<_0x1461bd;},'hxKPi':function(_0x2fdfe4,_0x1dcc9){return _0x2fdfe4<_0x1dcc9;},'DwOxf':function(_0x4522d5,_0x143300){return _0x4522d5/_0x143300;},'BdswT':function(_0x1124a2,_0x22ad7c){return _0x1124a2>=_0x22ad7c;},'czKnK':function(_0x53c8fb,_0x400417){return _0x53c8fb+_0x400417;},'gJMWc':function(_0x53e4ae,_0x42e8ea){return _0x53e4ae*_0x42e8ea;},'LboBu':function(_0x2121bd,_0x1d3ac5){return _0x2121bd-_0x1d3ac5;},'UuwvP':function(_0x2d956c,_0x296293){return _0x2d956c>_0x296293;},'ustad':function(_0x4664c9,_0x3fe75d){return _0x4664c9>_0x3fe75d;},'TXzbS':function(_0x256508,_0x217a8b){return _0x256508+_0x217a8b;},'lDDOV':_0x518812(0x1ea),'bJwFN':_0x518812(0x197),'PLWgb':function(_0x5245a6,_0x3af991,_0x3ae778){return _0x5245a6(_0x3af991,_0x3ae778);},'JFrtl':function(_0x3377b6,_0x1e3852){return _0x3377b6<_0x1e3852;},'qnUkd':function(_0x22bbb0,_0x4e5f51){return _0x22bbb0-_0x4e5f51;},'eWHqX':_0x518812(0x1d7),'fOxFM':function(_0x4f1757,_0x3f1417){return _0x4f1757*_0x3f1417;},'FdDii':function(_0x11d09b,_0x184f7d){return _0x11d09b-_0x184f7d;},'IDPgc':_0x518812(0x1ca),'Tgjdz':function(_0xf658ed,_0x1944ff){return _0xf658ed(_0x1944ff);}};if(_0x375b11[_0x518812(0x1b8)](_0x402d0c['x'],0x0)||_0x402d0c['x']>canvas[_0x518812(0x1f9)])_0x402d0c['dx']*=-0x1;if(_0x375b11[_0x518812(0x1c5)](_0x402d0c['y'],0x0))_0x402d0c['dy']*=-0x1;if(_0x402d0c['y']+_0x375b11['DwOxf'](ballSize,0x2)>=canvas[_0x518812(0x224)]-paddleHeight&&_0x375b11[_0x518812(0x205)](_0x402d0c['x'],paddleX)&&_0x402d0c['x']<=_0x375b11[_0x518812(0x23d)](paddleX,paddleWidth)){const _0x417087=_0x375b11[_0x518812(0x1e3)](_0x375b11[_0x518812(0x1f1)](_0x375b11['LboBu'](_0x402d0c['x'],_0x375b11['czKnK'](paddleX,_0x375b11['DwOxf'](paddleWidth,0x2))),paddleWidth),Math['PI'])/0x3,_0x32bbf3=BALL_SPEED;_0x402d0c['dx']=_0x32bbf3*Math['sin'](_0x417087),_0x402d0c['dy']=-Math[_0x518812(0x21c)](_0x32bbf3*Math['cos'](_0x417087));}for(let _0x38e2ec of bricks){for(let _0x2f4580 of _0x38e2ec){if(_0x375b11[_0x518812(0x1c4)](_0x2f4580[_0x518812(0x1d3)],0x0)&&_0x375b11[_0x518812(0x1c4)](_0x402d0c['x'],_0x2f4580['x'])&&_0x375b11[_0x518812(0x1c5)](_0x402d0c['x'],_0x375b11[_0x518812(0x23d)](_0x2f4580['x'],brickWidth))&&_0x375b11['ustad'](_0x402d0c['y'],_0x2f4580['y'])&&_0x375b11[_0x518812(0x1b8)](_0x402d0c['y'],_0x375b11[_0x518812(0x222)](_0x2f4580['y'],brickHeight))){_0x2f4580[_0x518812(0x1d3)]--,_0x402d0c['dy']*=-0x1;_0x402d0c[_0x518812(0x1ce)]&&(_0x402d0c['dx']*=1.1,_0x402d0c['dy']*=1.1);if(_0x2f4580[_0x518812(0x1d3)]<=0x0)switch(_0x2f4580[_0x518812(0x204)]){case _0x375b11[_0x518812(0x194)]:lives++;break;case _0x375b11['bJwFN']:const _0x5634ca=_0x375b11[_0x518812(0x220)](randomInt,0x1,0x3);for(let _0x17e7c3=0x0;_0x375b11[_0x518812(0x192)](_0x17e7c3,_0x5634ca);_0x17e7c3++){balls['push']({'x':_0x2f4580['x'],'y':_0x2f4580['y'],'dx':_0x375b11[_0x518812(0x1e3)](_0x375b11['gJMWc'](_0x375b11[_0x518812(0x1e7)](Math[_0x518812(0x1d8)](),0.5),BALL_SPEED),0x2),'dy':-BALL_SPEED});}break;case _0x375b11['eWHqX']:_0x375b11[_0x518812(0x220)](explodeSurroundingBricks,c,r);break;case'yellow-balls':for(let _0x51065c=0x0;_0x51065c<0x2;_0x51065c++){balls[_0x518812(0x234)]({'x':_0x2f4580['x'],'y':_0x2f4580['y'],'dx':_0x375b11[_0x518812(0x1b1)](_0x375b11[_0x518812(0x1e3)](_0x375b11[_0x518812(0x1cd)](Math[_0x518812(0x1d8)](),0.5),BALL_SPEED),0x3),'dy':_0x375b11[_0x518812(0x1e3)](-BALL_SPEED,1.5),'yellow':!![]});}break;case _0x375b11[_0x518812(0x193)]:let _0x354bce=balls[_0x518812(0x17c)](_0x44ba48=>({'x':_0x44ba48['x'],'y':_0x44ba48['y'],'dx':-_0x44ba48['dx'],'dy':-_0x44ba48['dy']}));balls['push'](..._0x354bce);break;}hitSound[_0x518812(0x1ee)]=0x0,hitSound[_0x518812(0x1a1)](),score++,_0x375b11['Tgjdz'](updateMaxScore,score);}}}}function explodeSurroundingBricks(_0x45fa1b,_0x45cc1d){const _0x17b5bf=_0x36911c,_0x24e706={'NYdZN':function(_0x550dd0,_0x4719ab){return _0x550dd0-_0x4719ab;},'QKZwU':function(_0x3a3fa6,_0x3a1cc0){return _0x3a3fa6<=_0x3a1cc0;},'Scnfg':function(_0x5e9a82,_0x95d4b4){return _0x5e9a82>_0x95d4b4;}};for(let _0x301425=_0x24e706[_0x17b5bf(0x1e5)](_0x45fa1b,0x1);_0x301425<=_0x45fa1b+0x1;_0x301425++){for(let _0x4300f7=_0x24e706[_0x17b5bf(0x1e5)](_0x45cc1d,0x1);_0x24e706[_0x17b5bf(0x17a)](_0x4300f7,_0x45cc1d+0x1);_0x4300f7++){bricks[_0x301425]&&bricks[_0x301425][_0x4300f7]&&_0x24e706[_0x17b5bf(0x1a5)](bricks[_0x301425][_0x4300f7][_0x17b5bf(0x1d3)],0x0)&&(score+=bricks[_0x301425][_0x4300f7][_0x17b5bf(0x1d3)],bricks[_0x301425][_0x4300f7]['durability']=0x0);}}}function sanitizeUsername(_0x175f99){const _0x784a2a=_0x36911c;return _0x175f99[_0x784a2a(0x17f)](/[.#$\[\]]/g,'_');}function updateMaxScore(_0xa2c8c3){const _0x150a2e=_0x36911c,_0x1f8119={'opkys':function(_0x2cdefe,_0x46d8c5){return _0x2cdefe>_0x46d8c5;},'fXPxb':function(_0x139f73,_0x56bc3f){return _0x139f73<=_0x56bc3f;},'LCrXi':function(_0x25b63e,_0x402622){return _0x25b63e(_0x402622);}};if(!currentUser||_0x1f8119['fXPxb'](_0xa2c8c3,topScore))return;topScore=_0xa2c8c3;const _0x4d1d0c=_0x1f8119[_0x150a2e(0x217)](sanitizeUsername,currentUser[_0x150a2e(0x1a4)]),_0x12cd26=db[_0x150a2e(0x195)](_0x150a2e(0x1c9)+_0x4d1d0c);_0x12cd26[_0x150a2e(0x17d)]()['then'](_0x15211e=>{const _0x5cfc65=_0x150a2e,_0x257c51=_0x15211e[_0x5cfc65(0x22c)]();(!_0x257c51||_0x1f8119[_0x5cfc65(0x1c6)](_0xa2c8c3,_0x257c51['maxScore']||0x0))&&_0x12cd26[_0x5cfc65(0x1c8)]({'username':currentUser[_0x5cfc65(0x1a4)],'maxScore':_0xa2c8c3,'timestamp':Date[_0x5cfc65(0x1cf)]()});});}function listenToLeaderboard(){const _0x4eddfa=_0x36911c,_0x21ff8d={'jIFzf':function(_0x5db06b,_0x38c665){return _0x5db06b(_0x38c665);},'HbaPJ':function(_0x42ec7b,_0x4231f1){return _0x42ec7b===_0x4231f1;},'HcWyY':function(_0x4176db,_0x2bb933){return _0x4176db+_0x2bb933;},'SMktK':_0x4eddfa(0x1ed),'PZNLq':_0x4eddfa(0x1d0),'dQkEh':_0x4eddfa(0x238)},_0x9938cc=document['getElementById'](_0x21ff8d['SMktK']);db['ref'](_0x21ff8d[_0x4eddfa(0x1db)])['on'](_0x21ff8d[_0x4eddfa(0x1e9)],async _0x38ac43=>{const _0x366a12=_0x4eddfa,_0x11f5aa={'ZfxYS':function(_0x954d1,_0x3d7562){const _0x900ff6=_0x4580;return _0x21ff8d[_0x900ff6(0x22d)](_0x954d1,_0x3d7562);},'bErvp':function(_0x46e648,_0x51043a){const _0x1dcbf1=_0x4580;return _0x21ff8d[_0x1dcbf1(0x22d)](_0x46e648,_0x51043a);},'MHyOw':function(_0x33ad18,_0x4d13f0){const _0x29217c=_0x4580;return _0x21ff8d[_0x29217c(0x230)](_0x33ad18,_0x4d13f0);}},_0x3010b7=[],_0x781967=[];_0x38ac43[_0x366a12(0x187)](_0x173c40=>{const _0x4e829a=_0x366a12,_0xa1f4fc=_0x173c40[_0x4e829a(0x22c)]();_0xa1f4fc[_0x4e829a(0x1a4)]&&_0xa1f4fc[_0x4e829a(0x1ba)]&&(_0x3010b7[_0x4e829a(0x234)](_0xa1f4fc),_0x781967[_0x4e829a(0x234)](db[_0x4e829a(0x195)]('auth/'+_0x21ff8d[_0x4e829a(0x17b)](sanitizeUsername,_0xa1f4fc[_0x4e829a(0x1a4)])+_0x4e829a(0x185))[_0x4e829a(0x17d)]()));});const _0xf4f436=await Promise[_0x366a12(0x208)](_0x781967);_0x3010b7[_0x366a12(0x187)]((_0x4b3d56,_0x32c492)=>{const _0x344f9c=_0x366a12;_0x4b3d56[_0x344f9c(0x221)]=_0xf4f436[_0x32c492][_0x344f9c(0x22c)]()||'';}),_0x3010b7[_0x366a12(0x1c7)]((_0x598453,_0x5bab18)=>_0x5bab18['maxScore']-_0x598453[_0x366a12(0x1ba)]);const _0x3f2045=_0x3010b7[_0x366a12(0x21b)](0x0,0x14);_0x9938cc[_0x366a12(0x210)]=_0x3f2045['map']((_0xa563fd,_0x40d3fd)=>{const _0x47e144=_0x366a12,_0x2887c3=_0x11f5aa['ZfxYS'](_0x40d3fd,0x0)?'ðŸ¥‡':_0x40d3fd===0x1?'ðŸ¥ˆ':_0x11f5aa[_0x47e144(0x18c)](_0x40d3fd,0x2)?'ðŸ¥‰':'',_0x45f139=_0x47e144(0x1a3)+_0x11f5aa[_0x47e144(0x1b0)](_0x40d3fd,0x1)+'\x20'+_0x2887c3+_0x47e144(0x186);return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22leaderboard-entry\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x45f139+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20src=\x22data:image/png;base64,'+_0xa563fd[_0x47e144(0x221)]+_0x47e144(0x1f7)+_0xa563fd[_0x47e144(0x1a4)]+_0x47e144(0x207)+_0xa563fd[_0x47e144(0x1ba)]+'</b>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20';})[_0x366a12(0x1dc)]('');});}function drawHUD(){const _0x212afc=_0x36911c,_0x1dd518={'StpaY':_0x212afc(0x1ac),'wVgcj':_0x212afc(0x1e6),'XZRef':function(_0x4dd2ed,_0x311539){return _0x4dd2ed-_0x311539;},'TOOXc':function(_0x12f95b,_0x307475){return _0x12f95b/_0x307475;},'FLPVv':function(_0x1d4559,_0x1533b6){return _0x1d4559-_0x1533b6;},'xyrTp':_0x212afc(0x18f)},_0x3e51c7=_0x1dd518[_0x212afc(0x213)][_0x212afc(0x1be)]('|');let _0xb5f3de=0x0;while(!![]){switch(_0x3e51c7[_0xb5f3de++]){case'0':ctx[_0x212afc(0x191)]=_0x1dd518[_0x212afc(0x1d4)];continue;case'1':ctx[_0x212afc(0x1f4)]('Level:\x20'+level,_0x1dd518[_0x212afc(0x1f6)](_0x1dd518[_0x212afc(0x23b)](canvas[_0x212afc(0x1f9)],0x2),0x1e),0x14);continue;case'2':ctx[_0x212afc(0x1f4)]('Score:\x20'+score,0x8,0x14);continue;case'3':ctx[_0x212afc(0x1f4)](_0x212afc(0x201)+lives,_0x1dd518[_0x212afc(0x1b7)](canvas[_0x212afc(0x1f9)],0x64),0x14);continue;case'4':ctx[_0x212afc(0x181)]=_0x1dd518[_0x212afc(0x21d)];continue;}break;}}function gameLoop(){const _0x17c1f9=_0x36911c,_0x1a994c={'WhRoC':function(_0x1399cd,_0x1a43c){return _0x1399cd/_0x1a43c;},'YboUx':function(_0x5a7a96,_0x5ac543){return _0x5a7a96-_0x5ac543;},'vRuuQ':function(_0x29199b){return _0x29199b();},'XrdRD':function(_0x39f9f3,_0x3b6688){return _0x39f9f3-_0x3b6688;},'FZHwE':function(_0x19d868,_0x328af0){return _0x19d868(_0x328af0);},'itBTo':function(_0x218b52,_0x1ffcba){return _0x218b52(_0x1ffcba);},'cMemj':function(_0x25d6e1,_0x5a9301){return _0x25d6e1/_0x5a9301;},'fKgIs':function(_0x54d586,_0x55c21a){return _0x54d586===_0x55c21a;},'VbYOY':function(_0x27394d,_0x3bb29a){return _0x27394d>_0x3bb29a;},'ltgbL':function(_0x56bf03,_0x29b6e2){return _0x56bf03(_0x29b6e2);}};ctx[_0x17c1f9(0x1f5)](0x0,0x0,canvas['width'],canvas[_0x17c1f9(0x224)]),movePaddle(),_0x1a994c[_0x17c1f9(0x1ae)](drawBricks),_0x1a994c[_0x17c1f9(0x1ae)](drawPaddle),drawHUD();for(let _0x403e82=_0x1a994c[_0x17c1f9(0x237)](balls[_0x17c1f9(0x180)],0x1);_0x403e82>=0x0;_0x403e82--){const _0x5c33dd=balls[_0x403e82];_0x1a994c[_0x17c1f9(0x1b9)](drawBall,_0x5c33dd),_0x5c33dd['x']+=_0x5c33dd['dx'],_0x5c33dd['y']+=_0x5c33dd['dy'],_0x1a994c[_0x17c1f9(0x1f0)](collisionDetection,_0x5c33dd);if(_0x1a994c['YboUx'](_0x5c33dd['y'],_0x1a994c[_0x17c1f9(0x1fd)](ballSize,0x2))>canvas[_0x17c1f9(0x224)])balls['splice'](_0x403e82,0x1);}if(_0x1a994c['fKgIs'](balls[_0x17c1f9(0x180)],0x0)&&!ballResetInProgress){if(_0x1a994c[_0x17c1f9(0x189)](lives,0x0))ballResetInProgress=!![],lives--,setTimeout(()=>{const _0x399cd3=_0x17c1f9;balls=[{'x':_0x1a994c[_0x399cd3(0x235)](canvas['width'],0x2),'y':canvas['height']-0x1e,'dx':BALL_SPEED,'dy':-BALL_SPEED}],paddleX=_0x1a994c[_0x399cd3(0x235)](_0x1a994c[_0x399cd3(0x1b2)](canvas[_0x399cd3(0x1f9)],paddleWidth),0x2),ballResetInProgress=![];},0x3e8);else{_0x1a994c[_0x17c1f9(0x1ae)](showGameOverScreen);return;}}!levelTransitionInProgress&&bricks[_0x17c1f9(0x1fa)]()[_0x17c1f9(0x1c1)](_0x11d135=>_0x11d135[_0x17c1f9(0x1d3)]<=0x0)&&(level++,generateBricksWithGhost()),!ballResetInProgress?_0x1a994c['ltgbL'](requestAnimationFrame,gameLoop):setTimeout(gameLoop,0x10);}function showGameOverScreen(){const _0x32650c=_0x36911c,_0x377d1b={'KAJKJ':_0x32650c(0x215),'AYDkM':_0x32650c(0x233),'cUdvS':'100%','ojGJl':_0x32650c(0x1ad),'lZdfj':_0x32650c(0x1e6),'vRGiI':'flex','NgPrc':'column','WsBYl':_0x32650c(0x227),'HwWjU':_0x32650c(0x1ab)},_0x2586d5=document['createElement']('div');_0x2586d5['id']=_0x377d1b[_0x32650c(0x183)],_0x2586d5[_0x32650c(0x212)][_0x32650c(0x1b6)]=_0x377d1b[_0x32650c(0x1e4)],_0x2586d5['style'][_0x32650c(0x1f3)]='0',_0x2586d5[_0x32650c(0x212)][_0x32650c(0x196)]='0',_0x2586d5[_0x32650c(0x212)]['width']=_0x377d1b[_0x32650c(0x218)],_0x2586d5[_0x32650c(0x212)][_0x32650c(0x224)]=_0x377d1b[_0x32650c(0x218)],_0x2586d5[_0x32650c(0x212)]['background']=_0x377d1b[_0x32650c(0x1bf)],_0x2586d5[_0x32650c(0x212)][_0x32650c(0x225)]=_0x377d1b[_0x32650c(0x1f2)],_0x2586d5['style'][_0x32650c(0x1e1)]=_0x377d1b['vRGiI'],_0x2586d5[_0x32650c(0x212)][_0x32650c(0x1d9)]=_0x377d1b['NgPrc'],_0x2586d5['style'][_0x32650c(0x223)]=_0x32650c(0x227),_0x2586d5[_0x32650c(0x212)][_0x32650c(0x21e)]=_0x377d1b[_0x32650c(0x188)],_0x2586d5['style'][_0x32650c(0x211)]=_0x377d1b[_0x32650c(0x21a)],_0x2586d5[_0x32650c(0x210)]=_0x32650c(0x1e0)+score+'</b></p>\x0a\x20\x20\x20\x20<button\x20style=\x22padding:10px\x2020px;\x20font-size:16px;\x22\x20onclick=\x22restartGame()\x22>Restart</button>\x0a\x20\x20',document['body'][_0x32650c(0x1b4)](_0x2586d5);}function restartGame(){const _0x3b22bb=_0x36911c,_0x149c38={'otbvH':_0x3b22bb(0x19c),'ywyCv':function(_0x15efe3){return _0x15efe3();},'VUiNx':'gameOverScreen','gIZit':function(_0x1493ce,_0x4aa04e){return _0x1493ce/_0x4aa04e;},'QKoZd':function(_0x2c8459){return _0x2c8459();}},_0x41fb37=_0x149c38[_0x3b22bb(0x203)][_0x3b22bb(0x1be)]('|');let _0x18c7a7=0x0;while(!![]){switch(_0x41fb37[_0x18c7a7++]){case'0':_0x149c38[_0x3b22bb(0x200)](drawBricks);continue;case'1':isGameStarted=![];continue;case'2':lives=0x3;continue;case'3':document['getElementById'](_0x149c38['VUiNx'])[_0x3b22bb(0x206)]();continue;case'4':score=0x0;continue;case'5':Object[_0x3b22bb(0x20c)](keys)[_0x3b22bb(0x187)](_0x27c97c=>keys[_0x27c97c]=![]);continue;case'6':ctx[_0x3b22bb(0x1f5)](0x0,0x0,canvas[_0x3b22bb(0x1f9)],canvas[_0x3b22bb(0x224)]);continue;case'7':balls=[];continue;case'8':_0x149c38['ywyCv'](drawHUD);continue;case'9':level=0x1;continue;case'10':paddleX=_0x149c38[_0x3b22bb(0x19f)](canvas[_0x3b22bb(0x1f9)]-paddleWidth,0x2);continue;case'11':_0x149c38[_0x3b22bb(0x1bd)](drawPaddle);continue;}break;}}