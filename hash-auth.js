async function authenticateFromURL(){const e=new URLSearchParams(window.location.search).get("token");if(!e){const e=sessionStorage.getItem("breakout_user"),t=sessionStorage.getItem("breakout_avatar");return e&&t?{username:e,avatarBase64:t}:(alert("Access denied. Please log in at webuserent.org."),location.href="https://webuserent.org",null)}const t=await db.ref("auth").get();let a=null;return t.forEach((t=>{const r=t.val();r&&r.passwordHash===e&&(a=r)})),a?(sessionStorage.setItem("breakout_user",a.username),sessionStorage.setItem("breakout_avatar",a.avatarBase64||""),history.replaceState({},document.title,window.location.pathname),a):(alert("Invalid token."),location.href="https://webuserent.org",null)}